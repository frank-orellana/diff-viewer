diff --git a/ttt/WEB-INF/web.xml b/ttt/WEB-INF/web.xml
index 146b339e..023baf92 100644
--- a/ttt/WEB-INF/web.xml
+++ b/ttt/WEB-INF/web.xml
@@ -73,7 +73,7 @@
     <filter-class>com.test.filters.i18n.__RequestEncodingFilter</filter-class>
     <init-param>
       <param-name>enable</param-name>
-      <param-value>false</param-value>
+      <param-value>true</param-value>
     </init-param>
   </filter>
   <filter>
@@ -293,6 +293,22 @@
     <servlet-name>S___ionVerifier</servlet-name>
     <servlet-class>com.test.tcservlets.S___ionVerifier</servlet-class>
   </servlet>
+  <servlet>
+    <servlet-name>Kaptcha</servlet-name>
+    <servlet-class>com.google.code.kaptcha.servlet.KaptchaServlet</servlet-class>
+    <init-param>
+      <param-name>kaptcha.border</param-name>
+      <param-value>no</param-value>
+    </init-param>
+    <init-param>
+      <param-name>kaptcha.textproducer.font.color</param-name>
+      <param-value>black</param-value>
+    </init-param>
+    <init-param>
+      <param-name>kaptcha.textproducer.char.space</param-name>
+      <param-value>5</param-value>
+    </init-param>
+  </servlet>
   <servlet-mapping>
     <servlet-name>CheckSecurity</servlet-name>
     <url-pattern>/servlet/CheckSecurity/*</url-pattern>
@@ -365,6 +381,10 @@
     <servlet-name>S___ionVerifier</servlet-name>
     <url-pattern>/servlet/S___ionVerifier</url-pattern>
   </servlet-mapping>
+  <servlet-mapping>
+    <servlet-name>Kaptcha</servlet-name>
+    <url-pattern>/images/kaptcha.jpg</url-pattern>
+  </servlet-mapping>
   <s___ion-config>
     <tracking-mode>COOKIE</tracking-mode>
   </s___ion-config>
diff --git a/ttt/__custom/ooo/css/ooo_estilo_ttt.css b/ttt/__custom/ooo/css/ooo_estilo_ttt.css
new file mode 100644
index 00000000..0e978668
--- /dev/null
+++ b/ttt/__custom/ooo/css/ooo_estilo_ttt.css
@@ -0,0 +1,33 @@
+div.scoPageHeader div {
+	float: left;
+}
+
+div.scoPageHeader div.fill {
+	width: 100%;
+}
+
+div.scoMenuLeft ul {
+	padding-left: 6px;
+	padding-inline-start: 6px;
+}
+
+div.scoMenuLeft div.content_1 li{
+	text-indent:0;
+}
+
+div.scoMenuLeft p.title{
+	margin: 18px 0 0 6px;
+	float:left;
+}
+
+div.scoMenuLeft div.withSubMenu{
+	width: 100%;
+}
+
+li.withSubMenu div{
+	float:left;
+}
+
+div.divright {
+	float:left;
+}
\ No newline at end of file
diff --git a/ttt/__custom/ooo/css/style_subportal.css b/ttt/__custom/ooo/css/style_subportal.css
new file mode 100644
index 00000000..d097b929
--- /dev/null
+++ b/ttt/__custom/ooo/css/style_subportal.css
@@ -0,0 +1,414 @@
+A:link
+{
+    BORDER-RIGHT: #395a82;
+    BORDER-TOP: #395a82;
+    BORDER-LEFT: #395a82;
+    COLOR: #15314c;
+    BORDER-BOTTOM: #395a82;
+    BACKGROUND-COLOR: transparent;
+    TEXT-DECORATION: none
+}
+A:visited
+{
+    COLOR: #15314c;
+    BACKGROUND-COLOR: transparent;
+    TEXT-DECORATION: none
+}
+A:active
+{
+    COLOR: #b1d202;
+    BACKGROUND-COLOR: transparent;
+    TEXT-DECORATION: none
+}
+A:hover
+{
+    COLOR: #2fa2f2;
+    BACKGROUND-COLOR: transparent;
+    TEXT-DECORATION: none
+}
+
+.bodyportal {
+  font-size: 11px;
+  font-family: Verdana, Arial, sans-serif;
+  color: #15314c;
+}
+
+.bodyportal table {
+  width:100%;
+}
+
+.bodyportal table td {
+  width:100%;
+}
+
+.bodyportal .tdmenuright {
+  width:210px;
+  vertical-align:top;
+}
+
+.portaltitle {
+  width: 100%;
+}
+
+.portaltitle .divleft {
+  float: left; 
+  width: 79%;
+}
+
+.portaltitle .divleft .title {
+  padding: 0 0 0 10px;
+  display: block; 
+  font-size: 13px; 
+  color: #fff;
+  height: 20px; 
+  background-image: url(/iconos/back_title_task.png);
+}
+
+.portaltitle .divleft .description {
+  margin: 20px 0 0 15px; 
+  display: block; 
+}
+
+.portaltitle .divright {
+  width: 21%;
+}
+
+.portaltitle .divright .image {
+  float: right; 
+  margin: 0 30px 0 0;
+}
+
+.portaltitle .divright img {
+  width: 100px;
+  height: 100px;
+}
+
+.subportal {
+  width: 100%; 
+  margin:0 0 10px 0;
+}
+
+.subportal .title {
+  padding: 5px 0 0 5px; 
+  font-size: 13px; 
+  width: 350px;
+  height: 25px;
+  color: #fff; 
+  display: block; 
+  background-image: url(/iconos/back_subtitle.png); 
+  background-repeat: no-repeat;
+}
+
+.subportal .box {
+  width: 98%; 
+  display: block; 
+  background-image: url(/iconos/back_vertical.png); 
+  background-repeat: repeat-x; 
+  border-bottom: 1px solid #e1e1e1;
+}
+
+.subportal .box .description {
+  margin: 10px 0 0 20px; 
+  display: block; 
+}
+
+.subportal .box .list {
+  margin: 10px 0 0 40px;
+}
+
+.subportal .box .list .image {
+  float: left; 
+  width: 75px; 
+  height: 75px; 
+  background-repeat: no-repeat;
+}
+
+.subportal .box .list .image IMG {
+  max-width: 75px; 
+  max-height: 75px; 
+}
+
+.subportal .box .list .boxlist {
+  margin: 0 0 5px 80px;
+} 
+
+.subportal .box .list .unsortedlist {
+  list-style-image:url(/iconos/img_list.png);
+}
+
+.menuright {
+  width: 210px;
+  float: right;
+  font-size: 10px;
+  font-family: Verdana, Arial, sans-serif;
+  color: #15314c;
+}
+
+.hrdocs {
+  background-color: #f1f2f5;
+}
+
+.hrdocs .hrdoctitle {
+  font-size: 13px; 
+  color: #fff;
+}
+
+.hrdocs .hrnavcont {
+  background-color: #f1f2f5;
+  width: 100%;
+  height: 18px;
+}
+
+.hrdocs .hrnav {
+  display:block; 
+  float:right;
+  margin: 3px 0;
+}
+
+.hrdocs .hrnav span {
+   padding: 0 3px 0 3px; 
+   margin: 0 3px 0 3px;
+}
+
+.hrdocs .hrnav .hand {
+  cursor: pointer;
+}
+
+.hrdocs .hrnav .default {
+  cursor: default;
+}
+
+.hrdocs .hrnav .enabled {
+  color: #ffffff;
+  background-color: #b1b1b1;
+}
+
+.hrdocs .hrnav .disabled {
+  color: #c1c1c1;
+  background-color: #ffffff;
+}
+
+.hrdocs .hrnav .spanfocus {
+  color: #15314c;
+  background-color: #ffffff;
+}
+
+.hrdocs .hrnav .spannofocus {
+  color: #ffffff;
+  background-color: #b1b1b1;
+}
+
+.hrdocs .hrdoctitle .title {
+  padding: 0 0 0 10px;
+  margin: 0 0 5px 0;
+  display: block; 
+  height: 20px; 
+  background-image: url(/iconos/back_title_doc.png);
+}
+
+.hrdocs .rangeNews {
+  margin: 0 0 0 75px;
+  font-size: 10px;
+  color: #facbcb;
+}
+
+.hrdocs .newsScroll {
+  overflow: hidden;
+}
+
+.hrdocs .hrdoc {
+  min-width: 200px; 
+  width: 100%; 
+  height: 45px;
+  background-image: url(/iconos/back_vertical_task.png);
+  background-repeat: repeat-x;
+  background-position: bottom left;
+}
+
+.hrdocs .hrdoc .images {
+  float: left; 
+  width: 50px; 
+  height: 43px; 
+}
+
+.hrdocs .hrdoc .images .image {
+  margin: 1px 2px 0 2px; 
+  width: 43px; 
+  height: 43px; 
+}
+
+.hrdocs .hrdoc .images .info {
+  top: -44px;
+  left: 2px;
+  position: relative;
+  width: 18px; 
+  height: 18px; 
+  cursor: pointer;
+}
+
+.hrdocs .hrdoc .description {
+  padding: 10px 0 0 0;
+}
+
+.hrdocs .hrdoc input {
+  font-size: 1px;
+}
+
+.description a {
+  text-decoration: none; 
+  color: #15314c;
+}
+
+.headersep {
+  height: 15px; 
+  width: 100%;
+}
+
+.tasks {
+  min-width: 200px;
+  min-height: 50px;
+  width: 100%;
+  background-color: #f1f2f5;
+}
+
+.tasks .taskstitle {
+  padding: 0 0 0 10px;
+  margin: 0 0 10px 0;
+  display: block; 
+  font-size: 13px; 
+  color: #fff; 
+  height: 20px; 
+  background-image: url(/iconos/back_title_task.png);
+}
+
+.tasks .notasks {
+  margin: 0 0 0 10px;
+}
+
+.tasks .taskbox {
+  min-width: 200px; 
+  width: 100%; 
+  margin: 5px 0;
+}
+
+.tasks .taskbox .title {
+  padding: 0 0 5px 10px;
+  font-size: 12px; 
+  color: #142f6e; 
+  display: block; 
+}
+
+.tasks .taskbox .tasksep {
+  background-image: url(/iconos/back_vertical_sep.png); 
+  background-repeat: repeat-x; 
+  height:2px; 
+  margin: 0 0 5px 0;
+}
+
+.tasks .taskbox .box {
+  width: 100%;
+  height: 100%;
+  display: block; 
+  background-image: url(/iconos/back_vertical_task.png);
+  background-repeat: repeat-x;
+  background-position: bottom left;
+  background-color: #f1f2f5;
+  min-height: 10px;
+}
+
+.tasks .taskbox .box .list {
+  margin: 2px auto;
+}
+
+.tasks .box .list .unsortedlist {
+  list-style-image: url(/iconos/img_list.png);
+  margin: 0px 0px 5px 25px;
+  cursor: default;
+}
+
+.tasks .box .list .unsortedlist li {
+  margin: 1px auto;
+}
+.tasks .taskbox .nobox {
+  display: block; 
+  height: 20px;
+}
+
+.tasks .nobox .list .nolist {
+  margin:15px 0 0 15px;
+}
+
+.dvDisabled {
+  background-color: #000;
+  width: 0px;
+  height: 0px;
+}
+
+.divPhoto {
+  background-color: #000;
+  width: 0px;
+  height: 0px;
+  border: 10px solid #fff;
+}
+
+.imgPhoto {
+  background-color: #fff;
+  width: 0px;
+  height: 0px;
+}
+
+.imgClose {
+  background-color: #fff;
+  width: 26px;
+  height: 26px;
+}
+
+.divDesc {
+  background-color: #f1f1f1;
+  width: 0px;
+  height: 0px;
+}
+
+.divDescOverflow {
+  background-color: transparent;
+  overflow: hidden;
+}
+
+.spanDesc {
+  color: #fff;
+  text-align: justify;
+}
+
+.divzoomDesc {
+  padding: 2px 5px 2px 5px;
+  vertical-align: middle;
+  text-align: justify;
+  background-color: #f9f9f9;
+  font-size: 14px;
+}
+
+.imgRewind {
+  background-color: #fff;
+  width: 26px;
+  height: 26px;
+}
+
+.imgForward {
+  background-color: #fff;
+  width: 26px;
+  height: 26px;
+}
+
+.imgInfo {
+  background-color: #fff;
+  width: 26px;
+  height: 26px;
+}
+
+/*******************************/
+div{
+	float:left;
+}
+.portaltitle .divright{
+	float:right;
+}
\ No newline at end of file
diff --git a/ttt/__custom/ooo/libreria/funciones_ttt.js b/ttt/__custom/ooo/libreria/funciones_ttt.js
index 12e4b1ed..a692d72d 100644
--- a/ttt/__custom/ooo/libreria/funciones_ttt.js
+++ b/ttt/__custom/ooo/libreria/funciones_ttt.js
@@ -9,25 +9,20 @@ function addEvent(evnt, elem, func) {
 	}
 }
 
-try{
-	window._open = window.open; 
-	window.open = function(url,name,params){
-		var html = "<html><head><title>Visualizaci√≥n Documento</title>";
-		html += "</head><body style='margin: 0;'>";
-		html += "<iframe height='100%' width='100%' src='" + url +"'></iframe>";
-		html += "</body></html>";
-		win = window._open("", name, params);
-		win.document.write(html);
-		if(parent.ooo_openedWindows != null){
-			parent.ooo_openedWindows.push(win);
-		}else if(parent.parent.ooo_openedWindows != null){
-			parent.parent.ooo_openedWindows.push(win);
-		}
-		win.focus();
-		return win;
+function oooOpenDialog(url,name,params){
+	var html = "<html><head><title>Visualizaci√≥n Documento</title>";
+	html += "</head><body style='margin: 0;'>";
+	html += "<iframe height='100%' width='100%' src='" + url +"'></iframe>";
+	html += "</body></html>";
+	win = window.open("", name, params);
+	win.document.write(html);
+	if(parent.ooo_openedWindows != null){
+		parent.ooo_openedWindows.push(win);
+	}else if(parent.parent.ooo_openedWindows != null){
+		parent.parent.ooo_openedWindows.push(win);
 	}
-}catch(e){
-	alert('Error: '+ e.m___age);
+	win.focus();
+	return win;
 }
 
 
@@ -206,7 +201,7 @@ function __opendialog(url, width, height) {
 				this.top = window.screenY + ((window.outerHeight - this.height) / 2);
 				var attr = "screenX=" + this.left + ",screenY=" + this.top + ",resizable=yes,scrollbars=yes,width=" + this.width + ",height=" + this.height;
 			// Genero el dialogo y me aseguro de que tiene el foco
-				this.win= window.open(this.url, this.name, attr);
+				this.win= oooOpenDialog(this.url, this.name, attr);
 
 		
 }
@@ -295,11 +290,40 @@ function __titulo() {
 var ztitulo = document.title;
 return (ztitulo);
 }
-//***************************
-//FUNCION: __fechahoy
-//FECHA:
-//COMENTARIOS: Devuelve la fecha de hoy en dd-mm-yyyy
-//***************************	
+
+
+
+
+
+
+function __date_usu(dianumero,mesnumero,anio){
+var oreM = /M/i;
+var oreD = /D/i;
+var strdianumero = new String(dianumero); 
+if (strdianumero.length != 2){strdianumero = '0' + strdianumero;}
+var strmesnumero = new String(mesnumero);
+if (strmesnumero.length != 2){strmesnumero = '0' + strmesnumero;}
+
+	var scaracterinicial = sformatofechas.substring(0,1);
+		if (scaracterinicial =="D" || scaracterinicial =="d"){
+			if (sformatofechas.search(oreM) == 3 ) {
+			var sfechasec = strdianumero + g_tttpfechas + strmesnumero + g_tttpfechas+ anio;
+			}else{var sfechasec = strdianumero + g_tttpfechas + anio + g_tttpfechas + strmesnumero;}
+		}
+		if (scaracterinicial =="M"|| scaracterinicial =="m"){
+			if (sformatofechas.search(oreD) == 3 ){
+			var sfechasec = strmesnumero + g_tttpfechas + strdianumero + g_tttpfechas+ anio;
+			}else{var sfechasec = strmesnumero + g_tttpfechas+ anio + g_tttpfechas + strdianumero;}
+		}
+		if (scaracterinicial =="Y" || scaracterinicial =="y"){
+			if (sformatofechas.search(oreD) == 5 ){
+			var sfechasec = anio + g_tttpfechas + strdianumero + g_tttpfechas + strmesnumero;
+			}else{var sfechasec = anio + g_tttpfechas + strmesnumero + g_tttpfechas + strdianumero;}
+		}
+	return sfechasec;
+}
+
+
 function __fechahoy(){	
 	 var d = new Date();	
 	 var s = new Date();	 
@@ -908,5 +932,74 @@ function __urlencode(str) {
 return escape(str).replace(/\+/g,'%2B').replace(/%20/g, '+').replace(/\*/g, '%2A').replace(/\//g, '%2F').replace(/@/g, '%40');
 }
 
+function __splitdate(sdate,adateinfo){
+var oreM = /M/i;var oreD = /D/i;var oreY = /Y/i;var oresep = g_tttpfechas;  
+var ap= new Array();
+var ny = sformatofechas.search(oreY);
+var nm = sformatofechas.search(oreM);
+var nd = sformatofechas.search(oreD);
+ap[ny] = "Y";ap[nm] = "M";ap[nd] = "D";
+var max = Math.max(Math.max(ny,nm),nd);
+if (max == ny) {var med= Math.max(nm,nd);var min=Math.min(nm,nd);}
+if (max == nm) {var med= Math.max(ny,nd);var min=Math.min(ny,nd);}
+if (max == nd) {var med= Math.max(ny,nm);var min=Math.min(ny,nm);}  
+var ocadena = new String(sdate);
+var atrozos = ocadena.split(oresep);
+var sday = "";
+
+if (ap[min] == "Y"){
+    syear = atrozos[0].toString();
+	if (ap[med] == "M"){smonth =  atrozos[1].toString(); sday = atrozos[2].toString();}
+	if (ap[med] == "D"){smonth =  atrozos[2].toString();sday = atrozos[1].toString();} 
+}
+if (ap[min] == "M"){
+	smonth = atrozos[0].toString();
+	if (ap[med] == "D"){sday = atrozos[1].toString(); syear =atrozos[2].toString();}
+	if (ap[med] == "Y"){sday = atrozos[2].toString();  syear =atrozos[1].toString();} 
+} 
+if (ap[min] == "D"){
+	sday = atrozos[0].toString();
+	if (ap[med] == "Y"){syear =atrozos[1].toString();smonth =  atrozos[2].toString();}
+	if (ap[med] == "M"){syear =atrozos[2].toString();smonth =  atrozos[1].toString();} 
+}
+
+
+
+   adateinfo[0] = sday;
+
+   adateinfo[1] = smonth;
+   adateinfo[2] = syear;
+
+return;
+}
+
+function __builtdate(dianumero,mesnumero,anio){
+var oreM = /M/i;var oreD = /D/i;var oreY = /Y/i;var oresep = g_tttpfechas;  
+	//Correccion para el dia y mes con una sola cifra, ejemplo: 1=01
+    var strdianumero = new String(dianumero); 
+	if (strdianumero.length != 2){strdianumero = '0' + strdianumero;}
+	var strmesnumero = new String(mesnumero);
+	if (strmesnumero.length != 2){strmesnumero = '0' + strmesnumero;}
+	//Construccion de la fecha segun el formato
+
+	var scaracterinicial = sformatofechas.substring(0,1);
+
+		if (scaracterinicial =="D" || scaracterinicial =="d"){
+			if (sformatofechas.search(oreM) == 3 ) {
+			var sfechasec = strdianumero + g_tttpfechas + strmesnumero + g_tttpfechas+ anio;
+			}else{var sfechasec = strdianumero + g_tttpfechas + anio + g_tttpfechas + strmesnumero;}
+		}
+		if (scaracterinicial =="M"|| scaracterinicial =="m"){
+			if (sformatofechas.search(oreD) == 3 ){
+			var sfechasec = strmesnumero + g_tttpfechas + strdianumero + g_tttpfechas+ anio;
+			}else{var sfechasec = strmesnumero + g_tttpfechas+ anio + g_tttpfechas + strdianumero;}
+		}
+		if (scaracterinicial =="Y" || scaracterinicial =="y"){
+			if (sformatofechas.search(oreD) == 5 ){
+			var sfechasec = anio + g_tttpfechas + strdianumero + g_tttpfechas + strmesnumero;
+			}else{var sfechasec = anio + g_tttpfechas + strmesnumero + g_tttpfechas + strdianumero;}
+		}
+	return sfechasec;
+}
 
 
diff --git a/ttt/__custom/ooo/libreria/functions_portal.js b/ttt/__custom/ooo/libreria/functions_portal.js
new file mode 100644
index 00000000..84048c86
--- /dev/null
+++ b/ttt/__custom/ooo/libreria/functions_portal.js
@@ -0,0 +1,1005 @@
+//Original code file: functions_portal.raw.js
+//Use the above mentioned file for modifications or debugging.
+
+var test = {};
+test.portal = function () {
+	var b___ = true,
+	bMenuBlocked = false,
+	iMenuWrapperWidth,
+	iContentWrapperLeft,
+	iOffsetHeigth = 0,
+	iOffsetWidth = 0,
+	oContentWrapper,
+	oMenuWrapper,
+	oPortal,
+	sUrlLogin,
+	sUrlPortal___ = '../ttttgenerico/ssco_portal.jsp',
+	sUrlPortalyyy = '../yyy_generico/smco_portal.jsp',
+	sUrlPutObject = '../ttttgenerico/tttttput_object.jsp';
+	function updateOffset() {
+		try {
+			iOffsetHeigth = document.body.offsetHeigth;
+			iOffsetWidth = document.body.offsetWidth;
+		} catch (e) {
+			iOffsetHeigth = 0;
+			iOffsetWidth = 0;
+		}
+	}
+	function init(ai_oPortal, ai_oMenuWrapper, ai_oMenu, ai_oContentWrapper, ai_sUrlLogin, ai_b___) {
+		oPortal = ai_oPortal;
+		oMenuWrapper = ai_oMenuWrapper;
+		oMenu = ai_oMenu;
+		oContentWrapper = ai_oContentWrapper;
+		sUrlLogin = ai_sUrlLogin;
+		b___ = ai_b___;
+		updateOffset();
+		iMenuWrapperWidth = oMenuWrapper.offsetWidth;
+		iContentWrapperLeft = +oContentWrapper.getStyle('__marginLeftMenu');
+	}
+	return {
+		init: function (ai_oPortal, ai_oMenuWrapper, ai_oMenu, ai_oContentWrapper, ai_sUrlLogin, ai_b___) {
+			init(ai_oPortal, ai_oMenuWrapper, ai_oMenu, ai_oContentWrapper, ai_sUrlLogin, ai_b___);
+		},
+		init___: function (ai_oPortal, ai_sUrlLogin) {
+			init(ai_oPortal, ai_sUrlLogin, true);
+		},
+		inityyy: function (ai_oPortal, ai_sUrlLogin) {
+			init(ai_oPortal, ai_sUrlLogin, false);
+		},
+		changePortal: function () {
+			test.frameBody.setEventTakenCareOf();
+			var sNewsURL = (b___) ? sUrlPortalyyy : sUrlPortal___;
+			if (test.IE6) {
+				window.location = sNewsURL;
+			} else {
+				window.location.href = sNewsURL;
+			}
+		},
+		get___: function () {
+			return b___;
+		},
+		offsetChanged: function () {
+			var bResult = false;
+			try {
+				if (iOffsetHeigth !== document.body.offsetHeigth || iOffsetWidth !== document.body.offsetWidth) {
+					bResult = true;
+					updateOffset();
+				}
+			} catch (e) {
+				iOffsetHeigth = 0;
+				iOffsetWidth = 0;
+			}
+			return bResult;
+		},
+		setMinWidth: function (ai_iWidth) {
+			var iCurrentWidth = 0;
+			iCurrentWidth = oPortal.scrollWidth + oPortal.offsetWidth - oPortal.clientWidth;
+			if (iCurrentWidth < ai_iWidth) {
+				oPortal.style.width = String(ai_iWidth) + 'px';
+			}
+		},
+		setMaxWidth: function () {
+			oPortal.style.width = '100%';
+		},
+		showLogin: function () {
+			if (sUrlLogin) {
+				window.location.pathname = sUrlLogin;
+			}
+		},
+		toggleMenu: function (ev) {
+			var bMenuVisible = (oMenuWrapper.clientHeight !== 0),
+			fxWrapper = new Fx.Tween(oMenuWrapper, {
+					duration: 750
+				}),
+			fxElement = new Fx.Tween(oMenu, {
+					duration: 750
+				}),
+			fxContent = new Fx.Tween(oContentWrapper);
+			if (ev) {
+				ev.preventDefault();
+			}
+			if (!bMenuBlocked) {
+				bMenuBlocked = true;
+				test.ajax.sendAsync(sUrlPutObject, [['sId', 'tttttIND_SHOW_MENU'], ['sValue', !bMenuVisible]]);
+				if (bMenuVisible) {
+					fxWrapper.start('height', 0);
+					fxElement.start('margin-top', -oMenuWrapper.clientHeight);
+					fxWrapper.addEvent('complete', function () {
+						fxContent.start('margin-left', -10);
+						fxContent.addEvent('complete', function () {
+							bMenuBlocked = false;
+							$('hideMenu').addClass('hidden');
+							$('showMenu').removeClass('hidden');
+						});
+					});
+				} else {
+					oMenu.setStyle('margin-top', -oMenu.clientHeight);
+					fxContent.start('margin-left', iContentWrapperLeft);
+					fxContent.addEvent('complete', function () {
+						fxWrapper.start('height', null);
+						fxElement.start('margin-top', 0);
+						fxWrapper.addEvent('complete', function () {
+							bMenuBlocked = false;
+							$('showMenu').addClass('hidden');
+							$('hideMenu').removeClass('hidden');
+						});
+					});
+				}
+				bMenuVisible = !bMenuVisible;
+			}
+		}
+	};
+}
+();
+test.menu = function () {
+	var b___ = true,
+	bNavigate = false,
+	oAccordion = [],
+	oDivWait,
+	oLastResponse,
+	sDeleteOperation = 'Delete',
+	sLastUrl,
+	sPathFavourites,
+	sUrlCheckLink = '/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_back.jsp',
+	sUrlDeleteFavourite = '/servlet/CheckSecurity/JSP/ttttgenerico/tttttfavourite_back.jsp';
+	function addAccordion(ai_oAccordion) {
+		oAccordion[oAccordion.length] = ai_oAccordion;
+	}
+	function activateAccordion(ai_sPath) {
+		var i,
+		saPath;
+		if (ai_sPath && ai_sPath !== '') {
+			saPath = ai_sPath.split(/;/g);
+			for (i = 0; i < saPath.length; i++) {
+				if (oAccordion[i].elements[+saPath[i]].offsetHeight === 0) {
+					oAccordion[i].display(+saPath[i]);
+				}
+			}
+		}
+	}
+	function showFavourites() {
+		activateAccordion(sPathFavourites);
+	}
+	function destroyObject(ai_oObject) {
+		ai_oObject.destroy();
+	}
+	return {
+		init: function (ai_oDivWait, ai_bUseFirstMenuOption) {
+			var heightValue = (window.ie6) ? '100%' : '',
+			togglerName = 'div.scoMenuLeft div.title_',
+			togglerSubName = 'div.scoMenuLeft span.title_',
+			contentName = 'div.scoMenuLeft div.content_',
+			counter = 1,
+			togglers = $$(togglerName + counter),
+			contents = $$(contentName + counter);
+			oDivWait = ai_oDivWait;
+			b___ = test.portal.get___();
+			sPathFavourites = (togglers.length >= 2) ? String(togglers.length - 2) + ';' : '';
+			togglers.each(function (ai_oToggler) {
+				ai_oToggler.addClass('__activeColor');
+				ai_oToggler.activeColor = ai_oToggler.getStyle('color');
+				ai_oToggler.removeClass('__activeColor');
+				ai_oToggler.origColor = ai_oToggler.getStyle('color');
+				ai_oToggler.fx = new Fx.Tween(ai_oToggler, 'color');
+			});
+			while (togglers.length > 0) {
+				addAccordion(new Accordion(togglers, contents, {
+						opacity: false,
+						alwaysHide: (counter !== 1),
+						start: 'all-closed',
+						onComplete: function () {
+							var element = $(this.elements[this.previous]);
+							if (element && element.offsetHeight > 0) {
+								element.setStyle('height', heightValue);
+							};
+						},
+						onActive: function (toggler, content) {
+							if (toggler.fx != null) {
+								toggler.fx.start('color', toggler.activeColor);
+							}
+							toggler.removeClass('divImgClosed');
+							toggler.addClass('divImgOpen');
+						},
+						onBackground: function (toggler, content) {
+							if (toggler.fx != null) {
+								toggler.fx.start('color', toggler.origColor);
+							}
+							toggler.removeClass('divImgOpen');
+							toggler.addClass('divImgClosed');
+						}
+					}));
+				counter++;
+				togglers = $$(togglerSubName + counter);
+				contents = $$(contentName + counter);
+			}
+		},
+		interceptEvent: function (ev) {
+			if(!ev)ev=event;
+			var sUrl,
+			oResponse;
+			if (ev.type === 'click' && ev.target.tagName === 'A') {
+				if (ev.target.protocol === 'mailto:') {}
+				else if (ev.target.protocol === 'javascript:') {}
+				else {
+					sUrl = '';
+					if (Browser.Engine.name == 'trident' || Browser.Engine.name == 'presto') {
+						sUrl = '/';
+					}
+					sUrl = sUrl + ev.target.pathname + ev.target.search;
+					oResponse = test.menu.validateUrl(sUrl);
+					if (oResponse) {
+						switch (oResponse.result) {
+						case '1':
+							test.frameBody.setLoadMode(sUrl);
+							break;
+						case '-1':
+							test.portal.changePortal();
+							break;
+						case '':
+							test.frameBody.setLoadMode(sUrl);
+							break;
+						case '0':
+							break;
+						default:
+						}
+						ev.preventDefault();
+					}
+				}
+			}
+		},
+		activateAccordion: function (ai_sPath) {
+			activateAccordion(ai_sPath);
+		},
+		validateUrl: function (ai_sUrl) {
+			if (sLastUrl !== ai_sUrl) {
+				sLastUrl = ai_sUrl;
+				test.ajax.sendSyncJSON(sUrlCheckLink, [['sUrl', ai_sUrl], ['b___', b___]]);
+				oLastResponse = test.ajax.getResponseJSON();
+			}
+			return oLastResponse;
+		},
+		compareToLastValidatedUrl: function (ai_sUrl) {
+			var oResponse;
+			if (ai_sUrl !== sLastUrl && sLastUrl !== undefined) {
+				oResponse = this.validateUrl(ai_sUrl);
+				if (oResponse) {
+					switch (oResponse.result) {
+					case '1':
+						this.activateAccordion(oResponse.path);
+						break;
+					case '-1':
+						test.portal.changePortal();
+						break;
+					case '0':
+						break;
+					default:
+					}
+				}
+			}
+		},
+		setUrl___: function (ai_sUrl) {
+			test.ajax.sendSync(sUrlCheckLink, [['sNextUrl', ai_sUrl], ['b___', true]]);
+		},
+		setUrlyyy: function (ai_sUrl) {
+			test.ajax.sendSync(sUrlCheckLink, [['sNextUrl', ai_sUrl], ['b___', false]]);
+		},
+		navigate: function (ai_sUrl) {
+			test.frameBody.setEventTakenCareOf();
+			test.frameBody.setLoadMode(ai_sUrl);
+		},
+		getNavigate: function () {
+			return bNavigate;
+		},
+		addFavourite: function (ai_iOrdinal, ai_sTitle, ai_sUrl) {
+			var oTemplateLI = $('favouriteLiTemplate'),
+			oFavouriteUL = $('menuLeftFavouritesUL'),
+			oFavouriteLI,
+			oFavouriteLiDiv,
+			oFx;
+			if (oTemplateLI) {
+				try {
+					oFavouriteLI = oTemplateLI.clone();
+					oFavouriteLI.id = 'favourite' + String(ai_iOrdinal);
+					oFavouriteLiDiv = oFavouriteLI.childNodes[0];
+					oFavouriteLiDiv.childNodes[0].title = ai_sTitle;
+					oFavouriteLiDiv.childNodes[0].href = ai_sUrl;
+					oFavouriteLiDiv.childNodes[0].childNodes[0].data = ai_sTitle;
+					oFavouriteUL.appendChild(oFavouriteLI);
+					oFavouriteLiDiv.childNodes[1].addEvent('click', function () {
+						test.menu.deleteFavourite(ai_iOrdinal);
+					});
+					oFx = new Fx.Morph(oFavouriteLiDiv, {
+							duration: 1000,
+							link: 'chain'
+						});
+					oFx.set({
+						'opacity': 0
+					});
+					oFx.start.pass({
+						'opacity': 1
+					}, oFx).delay(500);
+				} catch (e) {}
+				showFavourites();
+			}
+		},
+		modifyFavourite: function (ai_iOrdinal, ai_sTitle) {
+			var oLI = $('favourite' + String(ai_iOrdinal)),
+			oFx;
+			if (oLI) {
+				try {
+					oLI.childNodes[0].childNodes[0].title = ai_sTitle;
+					oLI.childNodes[0].childNodes[0].childNodes[0].data = ai_sTitle;
+					showFavourites();
+					oFx = new Fx.Tween(oLI, {
+							property: 'opacity',
+							duration: 500,
+							link: 'chain'
+						});
+					oFx.start.pass(0.2, oFx).delay(500);
+					oFx.start.pass(1, oFx).delay(600);
+				} catch (e) {}
+			}
+		},
+		deleteFavourite: function (ai_iOrdinal) {
+			var oLI = $('favourite' + String(ai_iOrdinal)),
+			oResponse = null,
+			oFx;
+			if (oLI) {
+				test.ajax.sendSyncJSON(sUrlDeleteFavourite, [['sOperation', sDeleteOperation], ['sOrdinal', String(ai_iOrdinal)]]);
+				oResponse = test.ajax.getResponseJSON();
+				if (oResponse && oResponse.result === 0) {
+					oFx = new Fx.Morph(oLI, {
+							duration: 400
+						}).start({
+							'opacity': 0
+						});
+					destroyObject.pass(oLI).delay(400);
+				}
+			}
+		}
+	};
+}
+();
+test.menu.search = function () {
+	var bUpdateS___ion = false,
+	bClearOnly = false,
+	htmlMinLength,
+	htmlNoSearch,
+	minLength = 2,
+	oForm = undefined,
+	oInput = undefined,
+	oResult = undefined,
+	previousCriterion,
+	textInitialString;
+	function clearServer() {
+		if (bUpdateS___ion) {
+			bUpdateS___ion = false;
+			if (oInput.value === textInitialString || oInput.value.length < minLength) {
+				bClearOnly = true;
+				oForm.send();
+			}
+		}
+	}
+	return {
+		init: function (ai_oForm, ai_oInput, ai_oResult, ai_sInitialString, ai_htmlMinLength, ai_htmlNoSearch, ai_sCriterion) {
+			oForm = ai_oForm;
+			oInput = ai_oInput;
+			oResult = ai_oResult;
+			textInitialString = ai_sInitialString;
+			htmlMinLength = ai_htmlMinLength;
+			htmlNoSearch = ai_htmlNoSearch;
+			oInput.value = ai_sCriterion || ai_sInitialString;
+			bUpdateS___ion = (ai_sCriterion) ? true : false;
+			if (oForm) {
+				oForm.addEvent('submit', function (ev) {
+					ev.preventDefault();
+				});
+				oForm.set('send', {
+					onComplete: function (response) {
+						if (bClearOnly) {
+							bClearOnly = false;
+						} else {
+							oResult.removeClass('scoSpinner').set('html', response);
+						}
+					}
+				});
+			}
+		},
+		clear: function () {
+			if (oInput.value === textInitialString) {
+				oInput.value = '';
+				oResult.empty().set('html', htmlMinLength);
+			} else {
+				oInput.select();
+				this.search();
+			}
+			oInput.removeClass('inactive');
+		},
+		restore: function () {
+			clearServer();
+			if (oInput.value === '' || oInput.value === textInitialString) {
+				oInput.value = textInitialString;
+				oInput.addClass('inactive');
+				oResult.empty().set('html', htmlNoSearch);
+			}
+		},
+		search: function () {
+			var criterion = oInput.value.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
+			if (criterion.length >= minLength) {
+				if (criterion !== previousCriterion) {
+					previousCriterion = criterion;
+					oResult.empty().addClass('scoSpinner');
+					bUpdateS___ion = true;
+					oForm.send();
+				}
+			} else {
+				bUpdateS___ion = true;
+				oResult.empty().removeClass('scoSpinner').set('html', htmlMinLength);
+				previousCriterion = criterion;
+			}
+		},
+		getCriterion: function () {
+			return (oInput.value !== textInitialString) ? oInput.value : null;
+		}
+	};
+}
+();
+test.header = function () {
+	var oButtonAddFavourite,
+	sOperationAdd = 'Add',
+	sUrlHome,
+	sUrlAddFavourite = '/servlet/CheckSecurity/JSP/ttttgenerico/tttttfavourite_back.jsp',
+	sUrlLogout = '/servlet/CheckSecurity/JSP/ttttgenerico/ttttlogout.jsp',
+	sUrlWhoIsWho = '/servlet/CheckSecurity/JSP/ttttg0/ttttg0_buscar_contactos.jsp';
+	return {
+		init: function (ai_sUrlHome, ai_oButtonAddFavourite) {
+			sUrlHome = ai_sUrlHome;
+			oButtonAddFavourite = ai_oButtonAddFavourite;
+		},
+		home: function () {
+			if (sUrlHome) {
+				test.frameBody.setLoadMode(sUrlHome);
+			}
+		},
+		whoIsWho: function () {
+			test.menu.setUrl___(sUrlWhoIsWho);
+			if (test.portal.get___()) {
+				test.frameBody.setLoadMode(sUrlWhoIsWho);
+				test.frameBody.updateSrc(sUrlWhoIsWho);
+			} else {
+				test.portal.changePortal();
+			}
+		},
+		addFavourite: function () {
+			var sTitle = test.frameBody.getTitle(),
+			sUrl = test.frameBody.getLocation(),
+			oResponse = null,
+			oFx;
+			if (sTitle && sUrl) {
+				test.ajax.sendSyncJSON(sUrlAddFavourite, [['sOperation', sOperationAdd], ['sUrl', sUrl], ['sName', sTitle]]);
+				oResponse = test.ajax.getResponseJSON();
+				if (oResponse) {
+					if (oResponse.result < 0) {
+						test.menu.modifyFavourite(-1 * oResponse.result, sTitle);
+					} else if (oResponse.result > 0) {
+						test.menu.addFavourite(oResponse.result, sTitle, sUrl);
+					}
+				}
+				oFx = new Fx.Morph(oButtonAddFavourite, {
+						duration: 500,
+						link: 'chain'
+					});
+				oFx.start({
+					'opacity': 0.2
+				}).start({
+					'opacity': 1
+				});
+			}
+		},
+		iconHot: function (ai_oImgTag) {
+			if (ai_oImgTag.__SrcHot) {
+				ai_oImgTag.src = ai_oImgTag.__SrcHot;
+			}
+		},
+		iconNormal: function (ai_oImgTag) {
+			if (ai_oImgTag.__SrcNormal) {
+				ai_oImgTag.src = ai_oImgTag.__SrcNormal;
+			}
+		},
+		beforeLoad: function () {},
+		afterLoad: function () {},
+		changePortal: function () {
+			test.portal.changePortal();
+		},
+		logout: function () {
+			test.frameBody.setEventTakenCareOf();
+			if (test.IE6) {
+				window.location = sUrlLogout;
+			} else {
+				window.location.href = sUrlLogout;
+			}
+		}
+	};
+}
+();
+test.frameBody = function () {
+	var b___ = true,
+	bEventTakenCareOf = false,
+	iContentScrollHeigth = 0,
+	iContentScrollWidth = 0,
+	oDivWait,
+	oFrame,
+	sCurrentPathname,
+	sDefaultHeight = '600',
+	sParam___ = 'sgcoPortal___',
+	sParamUrl = 'sgcoPortalDestinationUrl',
+	sUrlGenericUpdate = '/servlet/CheckSecurity/JSP/ttttgenerico/generico_actualizar.jsp',
+	sUrlLogin = '/ttttgenerico/generico_login.jsp',
+	sUrlPortal___ = '/servlet/CheckSecurity/JSP/ttttgenerico/ssco_portal.jsp',
+	sUrlPortalyyy = '/servlet/CheckSecurity/JSP/yyy_generico/smco_portal.jsp',
+	sUrlRestoreRequest = '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp',
+	sUrlStoreRequest = '/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_back.jsp';
+	function setLoadMode(sWhere) {
+		var oFx;
+		oFx = new Fx.Morph(oFrame, {
+				duration: 100
+			}).start({
+				'opacity': 0.1
+			}).chain(function () {
+				if (sWhere) {
+					test.frameBody.updateSrc(sWhere)
+				}
+			});
+		oDivWait.removeClass('displayNone');
+		bEventTakenCareOf = true;
+		test.header.beforeLoad();
+	}
+	function reverseLoadMode() {
+		oDivWait.addClass('scoSpinnerRev');
+		bEventTakenCareOf = true;
+	}
+	function resetLoadMode() {
+		var oFx;
+		oDivWait.addClass('displayNone');
+		oDivWait.removeClass('scoSpinnerRev');
+		test.frameBody.resize();
+		oFx = new Fx.Morph(oFrame, {
+				duration: 100
+			}).start({
+				'opacity': 1
+			}).chain(function () {
+				test.header.afterLoad()
+			});
+	}
+	function formSubmit(ai_oForm) {
+		var bSubmitForm = true,
+		oForm,
+		sUrl,
+		sPathName;
+		if (!ai_oForm.target) {
+			sUrl = (ai_oForm.action);
+			sPathName = sUrl.toLowerCase().substring(0, sUrl.toLowerCase().indexOf('.jsp')) + '.jsp';
+			setLoadMode();
+			if ((oFrame.contentWindow.location.pathname).toLowerCase() !== sPathName) {
+				oForm = new Element(ai_oForm);
+				oForm.set('send', {
+					url: sUrlStoreRequest,
+					async: false,
+					onComplete: function (response) {
+						var oResponse = JSON.decode(response, true);
+						if (oResponse) {
+							switch (oResponse.result) {
+							case '1':
+								test.menu.activateAccordion(oResponse.path);
+								break;
+							case '-1':
+								test.portal.changePortal();
+								bSubmitForm = false;
+								break;
+							case '0':
+								break;
+							default:
+							}
+						}
+					}
+				});
+				oForm.send(sUrlStoreRequest + '?' + sParam___ + '=' + b___ + '&' + sParamUrl + '=' + encodeURIComponent(sUrl));
+			}
+		}
+		return bSubmitForm;
+	}
+	return {
+		init: function (ai_oDivWait, ai_oFrame) {
+			oDivWait = ai_oDivWait;
+			oFrame = ai_oFrame;
+			b___ = test.portal.get___();
+		},
+		setLoadMode: function (sWhere) {
+			setLoadMode(sWhere);
+		},
+		resetLoadMode: function () {
+			resetLoadMode();
+		},
+		getLocation: function () {
+			var sLocation = null;
+			try {
+				sLocation = oFrame.contentWindow.location.pathname + oFrame.contentWindow.location.search;
+			} catch (e) {}
+			return sLocation;
+		},
+		getTitle: function () {
+			return oFrame.contentWindow.document.title;
+		},
+		getSrc: function () {
+			return oFrame.src || null;
+		},
+		updateSrc: function (ai_sUrl) {
+			if (ai_sUrl) {
+				oFrame.src = ai_sUrl;
+			}
+		},
+		afterLoad: function () {
+			var aoChildNodes,
+			aoForms,
+			bKeepGoing,
+			i,
+			oResponse,
+			sLocation = this.getLocation();
+			try {
+				oFrame.contentWindow.bNullHeight = (oFrame.contentWindow.document.body.scrollHeight + oFrame.contentWindow.document.body.offsetHeight - oFrame.contentWindow.document.body.clientHeight == 0);
+				oFrame.contentWindow.bLoaded = true;
+				if (sLocation === sUrlPortal___ || sLocation === sUrlPortalyyy) {
+					this.setLoadMode(oFrame.contentWindow.__frameContent);
+				} else if (sLocation === sUrlLogin) {
+					test.portal.showLogin();
+				} else if (sLocation !== sUrlRestoreRequest) {
+					window.__frameContent = sLocation;
+					oResponse = test.menu.validateUrl(sLocation);
+					if (oResponse) {
+						switch (oResponse.result) {
+						case '1':
+							test.menu.activateAccordion(oResponse.path);
+							break;
+						case '-1':
+							test.portal.changePortal();
+							break;
+						case '0':
+							break;
+						default:
+						}
+					}
+					try {
+						bEventTakenCareOf = false;
+						sCurrentPathname = oFrame.contentWindow.location.pathname;
+						if (oFrame.contentWindow.document) {
+							oFrame.contentWindow.document.addEvent('click', function (ev) {
+								var oEventElement,
+								sUrl;
+								if (ev.type === 'click') {
+									if (ev.target.tagName === 'IMG') {
+										oEventElement = ev.target.parentNode;
+									} else {
+										oEventElement = ev.target;
+									}
+									if (oEventElement.tagName === 'A') {
+										if (oEventElement.protocol === 'mailto:') {
+											bEventTakenCareOf = true;
+										} else if (oEventElement.protocol === 'javascript:') {
+											bEventTakenCareOf = true;
+										} else {
+											if (oEventElement.pathname !== undefined) {
+												bEventTakenCareOf = true;
+												if (oEventElement.pathname.toLowerCase().indexOf('.jsp') !== -1) {
+													sUrl = '';
+													if (Browser.Engine.name == 'trident' || Browser.Engine.name == 'presto') {
+														sUrl = '/';
+													}
+													sUrl = sUrl + oEventElement.pathname + oEventElement.search;
+													setLoadMode();
+													oResponse = test.menu.validateUrl(sUrl);
+													if (oResponse) {
+														switch (oResponse.result) {
+														case '1':
+															test.menu.activateAccordion(oResponse.path);
+															break;
+														case '-1':
+															ev.preventDefault();
+															test.portal.changePortal();
+															break;
+														case '0':
+															break;
+														default:
+														}
+													}
+												}
+											}
+										}
+									}
+								}
+							});
+							oFrame.contentWindow.addEvent('unload', function (ev) {
+								var oLocation,
+								sUrl;
+								if (!bEventTakenCareOf) {
+									oLocation = oFrame.contentWindow.location;
+									if (oLocation.protocol === 'mailto:') {}
+									else if (oLocation.protocol === 'javascript:') {}
+									else {
+										switch (oLocation.pathname) {
+										case sUrlGenericUpdate:
+											break;
+										case sCurrentPathname:
+											setLoadMode();
+											break;
+										default:
+											if (oLocation.pathname.toLowerCase().indexOf('.jsp') !== -1) {
+												sUrl = '';
+												if (Browser.Engine.name == 'trident' || Browser.Engine.name == 'presto') {
+													sUrl = '/';
+												}
+												sUrl = sUrl + oLocation.pathname + oLocation.search;
+												setLoadMode();
+												oResponse = test.menu.validateUrl(sUrl);
+												if (oResponse) {
+													switch (oResponse.result) {
+													case '1':
+														test.menu.activateAccordion(oResponse.path);
+														break;
+													case '-1':
+														test.portal.changePortal();
+														break;
+													case '0':
+														break;
+													default:
+													}
+												}
+											}
+										}
+									}
+								}
+							});
+							oFrame.contentWindow.addEvent('resize', function (ev) {
+								test.frameBody.resize();
+							});
+							aoForms = oFrame.contentWindow.document.forms;
+							if (aoForms.length) {
+								for (i = 0; i < aoForms.length; i++) {
+									if (aoForms[i].submit.tagname === undefined) {
+										aoForms[i].nativeSubmit = aoForms[i].submit;
+										aoForms[i].submit = function () {
+											var bResult = formSubmit(this);
+											bEventTakenCareOf = true;
+											if (bResult) {
+												this.nativeSubmit();
+											}
+										};
+									}
+								}
+							}
+							if (oFrame.contentWindow.document.body) {
+								aoChildNodes = oFrame.contentWindow.document.body.childNodes;
+								bKeepGoing = true;
+								for (i = 0; i < aoChildNodes.length && bKeepGoing; i++) {
+									if (aoChildNodes[i].tagName !== 'SCRIPT' && aoChildNodes[i].tagName !== '!') {
+										if (aoChildNodes[i].tagName !== 'DIV') {
+											bKeepGoing = false;
+										} else {
+											if (!(aoChildNodes[i].__top && aoChildNodes[i].__top.toLowerCase() === 'nochange')) {
+												if (aoChildNodes[i].style.position !== 'static' && aoChildNodes[i].style.top !== 0) {
+													aoChildNodes[i].style.top = 0;
+													if (aoChildNodes[i].style.position === 'absolute') {
+														aoChildNodes[i].style.position = 'relative';
+													}
+												}
+											}
+										}
+									}
+								}
+							}
+						}
+					} catch (e) {}
+					resetLoadMode();
+				} else {
+					reverseLoadMode();
+				}
+			} catch (e) {
+				test.frameBody.resize();
+				resetLoadMode();
+			}
+		},
+		resize: function () {
+			var bWindowSizeChanged = test.portal.offsetChanged(),
+			bContentHeighChanged = false,
+			bContentWidthChanged = false,
+			iDiffWidth = 0,
+			iNewHeight = 0,
+			iNewWidth = 0,
+			i = 0,
+			iMaxHeight = 0,
+			iMaxWidth = 0,
+			oContentBody;
+			try {
+				oContentBody = oFrame.contentWindow.document.body;
+				if (oFrame.contentWindow.bNullHeight) {
+					if (bWindowSizeChanged || oFrame.contentWindow.bLoaded) {
+						for (i = 0; i < oContentBody.childNodes.length - 1; i++) {
+							if (oContentBody.childNodes(i).style.display != 'none') {
+								iNewHeight = oContentBody.childNodes(i).offsetTop + oContentBody.childNodes(i).scrollHeight + oContentBody.childNodes(i).offsetHeight - oContentBody.childNodes(i).clientHeight;
+								if (iMaxHeight < iNewHeight) {
+									iMaxHeight = iNewHeight;
+								}
+								iNewWidth = oContentBody.childNodes(i).offsetLeft + oContentBody.childNodes(i).scrollWidth + oContentBody.childNodes(i).offsetWidth - oContentBody.childNodes(i).clientWidth;
+								if (iMaxWidth < iNewWidth) {
+									iMaxWidth = iNewWidth;
+								}
+							}
+						}
+						iMaxWidth += oFrame.offsetLeft - (+oContentBody.leftMargin);
+						oFrame.style.height = String(iMaxHeight) + 'px';
+						oFrame.style.width = '100%';
+						test.portal.setMinWidth(iMaxWidth);
+						oFrame.contentWindow.bLoaded = false;
+					}
+				} else {
+					var objContentScroll = (oFrame.contentDocument) ? oFrame.contentDocument : oFrame.contentWindow.document;
+					var curScrollHeight = Math.min(objContentScroll.documentElement.scrollHeight, objContentScroll.body.scrollHeight);
+					if (iContentScrollHeigth !== curScrollHeight) {
+						iContentScrollHeigth = curScrollHeight;
+						bContentHeighChanged = true;
+					}
+					if (iContentScrollWidth !== oContentBody.scrollWidth) {
+						iContentScrollWidth = oContentBody.scrollWidth;
+						bContentWidthChanged = true;
+					}
+					if (bWindowSizeChanged || bContentWidthChanged) {
+						test.portal.setMaxWidth();
+						iDiffWidth = oContentBody.scrollWidth - oContentBody.clientWidth;
+						if (iDiffWidth > 0) {
+							iNewWidth = oFrame.offsetLeft;
+							iNewWidth += oContentBody.scrollWidth + oContentBody.offsetWidth - oContentBody.clientWidth;
+							iNewWidth += oContentBody.offsetLeft;
+							iNewWidth -= 1;
+							test.portal.setMinWidth(iNewWidth);
+						}
+					}
+					if (bWindowSizeChanged || bContentHeighChanged || bContentWidthChanged) {
+						oContentBody.style.marginBottom = "0px";
+						oContentBody.style.marginLeft = "0px";
+						oContentBody.style.marginRight = "0px";
+						oFrame.style.height = String(curScrollHeight + 15) + 'px';
+					}
+				}
+			} catch (e) {
+				oFrame.height = sDefaultHeight;
+			}
+		},
+		refresh: function () {
+			if (oFrame.contentWindow) {
+				this.setLoadMode();
+				oFrame.contentWindow.location.reload(true);
+			}
+		},
+		setEventTakenCareOf: function () {
+			bEventTakenCareOf = true;
+		}
+	};
+}
+();
+test.ajax = function () {
+	var oRequestSync,
+	oRequestSyncJSON,
+	oResponseJSON,
+	sResponse,
+	getResponse = function (responseText, responseXML) {
+		sResponse = responseText;
+	};
+	getResponseJSON = function (responseJSON, responseText) {
+		oResponseJSON = responseJSON;
+	};
+	function createRequest(ai_bAsync) {
+		return new Request({
+			link: 'cancel',
+			async: ai_bAsync,
+			onSucc___: getResponse
+		});
+	}
+	function createRequestJSON(ai_bAsync) {
+		return new Request.JSON({
+			link: 'cancel',
+			async: ai_bAsync,
+			onSucc___: getResponseJSON
+		});
+	}
+	function send(ai_bJSON, ai_bAsync, ai_sUrl, ai_saParams) {
+		var i,
+		sParams = '';
+		if (ai_saParams && ai_saParams.length !== 0) {
+			for (i = 0; i < ai_saParams.length; i++) {
+				if (sParams !== '') {
+					sParams += '&';
+				}
+				sParams += ai_saParams[i][0] + '=' + encodeURIComponent(ai_saParams[i][1]);
+			}
+		}
+		if (ai_bJSON) {
+			if (!oRequestSyncJSON) {
+				oRequestSyncJSON = createRequestJSON(ai_bAsync);
+			}
+			oRequestSyncJSON.send({
+				url: ai_sUrl,
+				data: sParams
+			});
+		} else {
+			if (!oRequestSync) {
+				oRequestSync = createRequest(ai_bAsync);
+			}
+			oRequestSync.send({
+				url: ai_sUrl,
+				data: sParams
+			});
+		}
+	}
+	return {
+		sendSync: function (ai_sUrl, ai_saParams) {
+			send(false, false, ai_sUrl, ai_saParams);
+		},
+		sendAsync: function (ai_sUrl, ai_saParams) {
+			send(false, true, ai_sUrl, ai_saParams);
+		},
+		getResponse: function () {
+			return sResponse;
+		},
+		sendSyncJSON: function (ai_sUrl, ai_saParams) {
+			send(true, false, ai_sUrl, ai_saParams);
+		},
+		sendAsyncJSON: function (ai_sUrl, ai_saParams) {
+			send(true, true, ai_sUrl, ai_saParams);
+		},
+		getResponseJSON: function () {
+			return oResponseJSON;
+		}
+	};
+}
+();
+test.IE6 = (Browser.Engine.name == 'trident' && Browser.Engine.version == '4');
+window.addEvent('domready', function () {
+	var oBody = $('allbody');
+	if (oBody) {
+		oBody.addEvent('keydown',function (ev) {
+				if (ev.key == 'f5' && (!ev.control)) {
+					ev.preventDefault();
+					test.frameBody.refresh();
+				}
+			});
+		oBody.addEvent('click', function (ev) {
+				test.menu.interceptEvent(ev);
+			}
+		);
+	}
+	$('showMenu').addEvent('click', function (ev) {
+		test.portal.toggleMenu(ev);
+	});
+	$('hideMenu').addEvent('click', function (ev) {
+		test.portal.toggleMenu(ev);
+	});
+	window.addEvent('unload', function (ev) {
+		test.frameBody.setEventTakenCareOf();
+	});
+});
+function isIE6() {
+	if (test.IE6) {
+		var oColimgs = $$('img');
+		var i = 0;
+		for (i = 0; i < oColimgs.length; i++) {
+			if (oColimgs[i].src && oColimgs[i].src.substring(oColimgs[i].src.length - 3) == 'png') {
+				oColimgs[i].src = oColimgs[i].src.substring(0, oColimgs[i].src.length - 3) + 'gif'
+			};
+			if (oColimgs[i].__SrcHot && oColimgs[i].__SrcHot.substring(oColimgs[i].__SrcHot.length - 3) == 'png') {
+				oColimgs[i].__SrcHot = oColimgs[i].__SrcHot.substring(0, oColimgs[i].__SrcHot.length - 3) + 'gif'
+			};
+			if (oColimgs[i].__SrcNormal && oColimgs[i].__SrcNormal.substring(oColimgs[i].__SrcNormal.length - 3) == 'png') {
+				oColimgs[i].__SrcNormal = oColimgs[i].__SrcNormal.substring(0, oColimgs[i].__SrcNormal.length - 3) + 'gif'
+			};
+		}
+	}
+}
diff --git a/ttt/__custom/ooo/yyy_g2/espanol/yyy_g2_p2_val.jsp b/ttt/__custom/ooo/yyy_g2/espanol/yyy_g2_p2_val.jsp
new file mode 100644
index 00000000..fb17079c
--- /dev/null
+++ b/ttt/__custom/ooo/yyy_g2/espanol/yyy_g2_p2_val.jsp
@@ -0,0 +1,267 @@
+<%@ include file="../../ttttgenerico/ttttgenerico_taglib.jsp" %>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
+    "DTD/xhtml1-strict.dtd">
+<html>
+<head><%@ include file="../../ttttgenerico/ttttgenerico_taglib_2.jsp" %>
+<link href="/css/estilo_yyy.css" type="text/css" rel="stylesheet" />
+<script type="text/javascript" src="/libreria/funciones_ttttval1.js"></script>
+<script type="text/Javascript" src="/libreria/funciones_ttt.js"></script>
+<%@ include file="../../yyy_generico/english/menu_yyy.jsp" %>	
+<%@ include file="../../ttttg2/ttttpayment_data_trans.jsp" %>
+<title><%=g2_paymentdata.getProperty("Label.otherPaymentDataVal")%></title>
+<%
+String estado = request.getParameter("estado");
+String zfiltro = request.getParameter("zfiltro");
+String zinicios = request.getParameter("zinicios");
+String znivel = request.getParameter("znivel");
+if ((estado==null)||(estado.equals(""))){estado="0";}
+if ((zfiltro==null)|| (""==zfiltro)){zfiltro = "Todos";} 
+if ((zinicios==null)||(zinicios.equals(""))){zinicios = "1";}
+if ((znivel==null)||(znivel.equals(""))){ znivel = "1";}
+%>
+<script type="text/javascript">
+function filtrar(){
+	var valor =__select("filtro","prueba","value");
+	var nivel =__select("nivel","prueba","value");
+	__valor("oculto","zfiltro",valor,"set");
+	__valor("oculto","znivel",nivel,"set");
+	oculto.submit();
+}
+function __enviar(){
+	if (typeof(document.forms['a0']) != "undefined"){
+		var cadena="";
+		var URL = "{TAG=ttttOTHER_PDATA";
+		var numregistros = parseInt(document.forms['a0'].elements[1].name);
+		cadena = cadena + URL;
+		for (var i = 0; i < numregistros; i++){
+			var formulario = "b" + i;
+			if (document.forms[formulario].elements[0].checked == true){
+				var formulario1 = "a" + i;
+				cadena = cadena + "{" + document.forms[formulario1].elements[1].value + "*" + "ACC=ACEPTAR";
+				cadena = cadena + document.forms[formulario1].elements[0].value;
+			} 
+			if (document.forms[formulario].elements[1].checked == true){
+				var formulario1 = "a" + i;
+				cadena = cadena + "{" + document.forms[formulario1].elements[1].value + "*" + "ACC=CANCELAR";
+				cadena = cadena + document.forms[formulario1].elements[0].value;
+				var formulario2 = "c" + i;
+				cadena = cadena + "{" +document.forms[formulario1].elements[1].value + "*" + "MOTIVO_ACCION=" + document.forms[formulario2].elements[0].value;
+			}
+		}
+		document.forms["envio"].elements["param"].value=cadena;
+		document.forms["envio"].elements["TAG"].value="ttttOTHER_PDATA";
+		document.forms["envio"].submit();
+	}
+}
+</script>
+</head>
+<body>
+<%@ include file="../../yyy_generico/english/yyygenerico_menusup.jsp" %>
+<%@ include file="../../ttttgenerico/english/generico_links.jsp" %>
+
+<%
+   String zsubsesion = "ttttOTHER_PDATA";
+   String ztestobject = "ttttOTHER_PDATA";
+   String znodo = "ttttOTHER_PDATA";
+   String ztipocarga = "ttt";
+   String zventanas = "4";
+   int zvuelta = 2;
+   String zdireccion = "/yyy_g2/yyy_g2_p1_val.jsp";
+   String zestado="21";
+   int zregistroinicial = Integer.valueOf(zinicios).intValue();
+   zregistroinicial = zregistroinicial - 1;
+   int zventana  = Integer.valueOf(zventanas).intValue();
+   int zregistrofinal = zregistroinicial + zventana - 1;
+   
+// No se modifica en general.
+
+   String zoutputdef = zsubsesion + "!" + znodo + "[" + zregistroinicial + "-" + zregistrofinal + "]";
+   String zraiz = znodo + ":" + zsubsesion + "!" + znodo + ".";
+   String zmove =znodo + ":" +  znodo + "[" + zregistroinicial + "]";
+   String zcomun = znodo + ":" + zsubsesion + "!" + znodo + "[&VAR.__lix]" + ".";
+
+   String znodolista = znodo + "_VAL";
+   String zoutputdeflista = zsubsesion + "!" + znodolista + "[*]";
+   String zmovelista = znodolista + ":" + znodolista + "[FIRST]";
+   String zraizlista = znodolista + ":" + zsubsesion + "!" + znodolista + ".";
+   String zcomunlista = znodolista + ":" + zsubsesion + "!" + znodolista + "[&VAR.__lix]" + ".";
+   
+   String znodocom = "ttttCOMUNICACION";
+   String zoutputdefcom = zsubsesion + "!" + znodocom + "[*]";
+   
+// Metodo de carga del testObject generico
+
+   String znodoprincipal = "ttttPRINCIPAL";
+   String zmetodocarga = "CARGA:" + zsubsesion + "!" + znodoprincipal + ".CARGA";
+   
+// Items que vamos a cargar. Se deben anadir todos aquellos que se deseen visualizar
+
+   String zORDINAL = zcomun + "ORDINAL";
+   String zNACCION = zcomun + "N_ACCION";   
+   String zNOMBREEMPLEADO = zcomun + "NOMBRE_EMPLEADO";
+   String zNOMBREPERSON = zraiz + "NOMBRE_PERSON";
+  
+   String zfecinicio = zcomun +"SCO_DT_START";
+   String zfecfin = zcomun +"SCO_DT_END";
+   
+   String zidbanco = zcomun + "SCO_ID_BANK_BRANCH";
+   String ziddc = zcomun + "SSP_DC";
+   String zidcuenta = zcomun + "SCO_ACCOUNT_NUMBER";
+   String zNcurr = zcomun + "NM_CURRENCY";
+   String zNformapago = zcomun + "SCO_NM_PAYM_TYPE";  
+   String zNformula = zcomun + "SCO_NM_PAYMFORMULA";
+   String zentitled = zcomun + "SCO_ENTITLED";
+   String zvalor = zcomun + "SCO_VALUE";
+   String zSCO_NM_PAYM_TYPE = zcomun + "SCO_NM_PAYM_TYPE";
+   
+   
+   String zNOMBREEMPLEADOlista =  zcomunlista + "NOMBRE_EMPLEADO";
+   String zSTDIDPERSON = zcomunlista + "STD_ID_PERSON";      
+   
+  
+%>
+<__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
+<__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
+<% try {
+	    __Operations m = new __Operations(request); 
+	    
+	    m.setItem(zsubsesion,znodoprincipal,"","NIVEL",znivel);
+	    m.setItem(zsubsesion,znodo,"","ID_PERSON",zfiltro);
+	      
+		} catch(Exception e) {}
+%>
+<__:exec __method="<%=zmetodocarga%>"><__:param name="TIPO_CARGA" value="<%=ztipocarga%>"/></__:exec>
+<__:outputdef __alias="<%=znodolista%>"><__:param name="__name0" value="<%=zoutputdeflista%>"/></__:outputdef>
+<__:outputdef __alias="<%=znodocom%>"><__:param name="__name0" value="<%=zoutputdefcom%>"/></__:outputdef >
+<__:outputdef __alias="<%=znodo%>" ><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
+<__:endjob/>
+<__:move><__:param name="<%=zsubsesion%>" value="<%=zmove%>"/></__:move>
+<__:move><__:param name="<%=zsubsesion%>" value="<%=zmovelista%>"/></__:move>
+<%
+	int  zcounti  = 0;
+	int  zcountilista  = 0;
+	int  zcount  = 0;	
+	try {
+		__Operations m = new __Operations(request);
+		zcounti = m.getCountInClient(znodo,zsubsesion,znodo);
+		zcountilista = m.getCountInClient(znodolista,zsubsesion,znodolista);
+		zcount = m.getCount(znodo,zsubsesion,znodo);
+	} catch(Exception e) {}
+	String	zcountv = String.valueOf(zcounti);
+	String	zcountvlista = String.valueOf(zcountilista);
+%>
+<table width="100%" cellspacing="0">
+<tr><td class="titulofuncional" colspan="2"><%=g2_paymentdata.getProperty("Label.otherPaymentDataValTitle")%></td></tr>
+<tr>
+	<td><img alt="<%=g2_paymentdata.getProperty("Label.otherPaymentDataValTitle")%>" src="/iconos/noname_valida_beneficiarios_86_100.gif" width="86" height="100" /></td>
+	<td><div class="descripcionfuncional"><%=g2_paymentdata.getProperty("Label.otherPaymentDataValdesc")%></div></td>
+</tr>
+</table>
+<%@ include file="../../yyy_generico/english/yyygenerico_filtro_val.jsp" %>
+<br />
+<form action="/servlet/CheckSecurity/JSP/yyy_g2/yyy_g2_p2_val.jsp?estado=21" method="post" name="oculto" id="oculto">
+<input type="hidden" id="zfiltro" name="zfiltro"  value="<%=zfiltro%>" />
+<input type="hidden" id="zfiltroemp" name="znivel"  value="<%=znivel%>" />
+<input type="hidden" id="zinicios" name="zinicios"  value="" />
+</form>
+<% if (zcounti > 0) {
+String zregistroinicials = String.valueOf(zregistroinicial);
+String zregistrofinals = String.valueOf(zregistroinicial + zcounti - 1);
+String zposicions = "0";
+int zposicion = 0; %>	
+<table width="100%" cellspacing="0">
+	<tr><td class = "tablaestadosceldatitulo" colspan="2"><%=Tran.getProperty("Labelyyy.Pendientes")%></td></tr>
+	<__:loop from="<%=zregistroinicials%>" to="<%=zregistrofinals%>">
+	<%	zposicions = __lix;
+		zposicion = Integer.valueOf(zposicions).intValue();
+		zposicion = zposicion - zregistroinicial;%>
+	<tr>
+
+		<td class="fuentecampo">
+			<table cellspacing="0" width="100%">
+				<tr><td class="fuentecamponombre" colspan="4">&nbsp;<__:item __name="<%=zNOMBREEMPLEADO%>" htmlsafe="true"/>&nbsp;<%=Tran.getProperty("Labelyyy.Solicita")%>&nbsp;<__:item __name="<%=zNACCION%>" htmlsafe="true"/></td></tr>	
+
+				<tr>
+					<td class="fuentecamponombre" colspan="4"><br/></td>
+				</tr>
+				<tr>
+					<td class = "fuentecampo" >&nbsp;<__:label  __name="<%=zfecinicio%>" htmlsafe="true" />:&nbsp;</td>
+					<td class = "fuentevalor" colspan="2"><__:item __name="<%=zfecinicio%>" htmlsafe="true"/></td>
+				</tr>
+				<tr>
+					<td class = "fuentecampo" >&nbsp;<__:label  __name="<%=zfecfin%>" htmlsafe="true" />:&nbsp;</td>
+					<td class = "fuentevalor" colspan="2"><__:item __name="<%=zfecfin%>" htmlsafe="true"/></td>
+				</tr>
+					<tr>
+					<td class = "fuentecampo" >&nbsp;<__:label  __name="<%=zentitled%>" htmlsafe="true" />:&nbsp;</td>
+					<td class = "fuentevalor" colspan="2"><__:item __name="<%=zentitled%>" htmlsafe="true"/></td>
+				</tr>
+				<tr>
+					<td class = "fuentecampo" >&nbsp;<__:label  __name="<%=zvalor%>" htmlsafe="true" />:&nbsp;</td>
+					<td class = "fuentevalor" colspan="2"><__:item __name="<%=zvalor%>" htmlsafe="true"/></td>
+				</tr>
+				
+				<tr>
+					<td class = "fuentecampo" >&nbsp;<__:label  __name="<%=zSCO_NM_PAYM_TYPE%>" htmlsafe="true" />:&nbsp;</td>
+					<td class = "fuentevalor" colspan="2"><__:item __name="<%=zSCO_NM_PAYM_TYPE%>" htmlsafe="true"/></td>
+				</tr>
+	
+				<tr>
+					<td class="fuentecampo" colspan="4">
+					<form name="a<%=zposicion%>" id="a<%=zposicion%>">
+						&nbsp;<input id="ocultos" name="ocultos" type="hidden" value="{<__:item __name="<%=zORDINAL%>" htmlsafe="true"/>*REC=<__:item __name="<%=zORDINAL%>" htmlsafe="true"/>{<__:item __name="<%=zORDINAL%>" htmlsafe="true"/>*NOD=ttttOTHER_PDATA{<__:item __name="<%=zORDINAL%>" htmlsafe="true"/>*NIVEL_ACEPTADO=<%=znivel%>" />
+								 <input size="1" name="<%=zcountv%>" type="hidden" value="<__:item __name="<%=zORDINAL%>" htmlsafe="true"/>" />
+					</form></td>	
+				</tr>
+				</table>
+			</td>
+			<td class="fuentecampo">
+				<form name="b<%=zposicion%>" id="b<%=zposicion%>">
+				<table cellspacing="0">
+				<tr>
+					<td class="fuentecampo">
+						<input title="<%=Tran.getProperty("Labelyyy.Aceptarlabel")%>" id="ac<%=zposicion%>" name="ac<%=zposicion%>" type="checkbox" value="T" onclick="validar(this,document.b<%=zposicion%>.ca<%=zposicion%>)" />
+						<%=Tran.getProperty("Labelyyy.Aceptar")%>
+					</td>
+				</tr>
+				<tr>
+					<td class="fuentecampo">
+						<input title="<%=Tran.getProperty("Labelyyy.Cancelarlabel")%>"  id="ca<%=zposicion%>" name="ca<%=zposicion%>" type="checkbox" value="T" onclick="validar(this,document.b<%=zposicion%>.ac<%=zposicion%>)" />
+						<%=Tran.getProperty("Labelyyy.Cancelar")%>
+					</td>
+				</tr>
+				</table>
+				</form>
+			</td>
+		</tr>
+		<tr>
+			<td class="fuentecampo" colspan="2">
+				<%=Tran.getProperty("Labelyyy.CancelarReason")%>			
+				<form name="c<%=zposicion%>" id="c<%=zposicion%>">
+				<input size="48" title="<%=Tran.getProperty("Labelyyy.CancelarReasonlabel")%>" id="mo<%=zposicion%>" name="mo<%=zposicion%>" type="text" maxlength="60" />
+				</form>
+			</td>
+		</tr>
+		<tr><td class="separadorlinea" colspan="2"><hr /></td></tr>
+		</__:loop>
+		<form id="envio" name="envio" action="/servlet/CheckSecurity/JSP/ttttgenerico/generico_actualizar_multipeticiones.jsp" method="post">
+		<input type="hidden" id="param" name="param" value="" />
+		<input type="hidden" id="TAG" name="TAG" value="" />
+		</form>
+			</table>
+	</td>
+</tr>
+</table>
+<%@include file="../../ttttgenerico/english/generico_ventanas_post.jsp"%>
+<%}else{%>	
+<div class="fuentenodatos" ><%=Tran.getProperty("Label.NoDataFound7")%></div>
+<br /> <br /> 
+<%}%>		
+<__:endpage/>
+<%@ include file="../../yyy_generico/english/yyygenerico_disclaimer.jsp" %>
+</div>
+</body>
+</html>
+
+
diff --git a/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101.jsp b/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101.jsp
index 14d2626e..645f4cc0 100644
--- a/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101.jsp
+++ b/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101.jsp
@@ -123,7 +123,7 @@ response.setDateHeader ("Expires", 0); //prevents caching at the proxy server
             valor_empl = "00" + valor_empl;
         }
 
-        String rutaBase = "E:\\test\\_____\\___yyy\\Certific\\";
+        String rutaBase = "E:\\test\\__WS\\ttt\\Certific\\";
         String ruta = rutaBase + valor_legal + "\\" + valor_empl + ".1887.HTM";
         File fichero=new File(ruta);
         
diff --git a/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101b.jsp b/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101b.jsp
index 5f4a956d..57491414 100644
--- a/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101b.jsp
+++ b/ttt/__custom/ooo/ttttg2/espanol/ttttg2_p101b.jsp
@@ -6,6 +6,7 @@ response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http:/www.w3.org/TR/REC_html40/loose.DTD">
 <HTML>
     <HEAD>
+        <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
         <TITLE>Mi certificado anual</TITLE>
 
         <script LANGUAGE="JavaScript">
@@ -54,9 +55,22 @@ response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
         <style type="text/css" media="print"> 
             div.page {  
                 writing-mode: tb-rl; 
-                height: 80%; 
-                margin: 1% 0%; 
-            } 
+                height: 80%;
+                margin: 1% 0%;
+            }
+            div#imprimir {
+                display: none;
+            }
+            body{
+                width:95%;
+                height:80%;
+            }
+            .Disclaimer{
+                border:0;
+            }
+            @page{
+                size: A4 landscape;
+            }
         </style> 
         <style type="text/css"> 
             table { 
@@ -89,7 +103,7 @@ String valor_empl  = request.getParameter("zidempl");
             valor_empl = "00" + valor_empl;
         }
 
-String rutaBase = "E:\\test\\_____\\___yyy\\Certific\\";
+String rutaBase = "E:\\test\\__WS\\ttt\\Certific\\";
 
 String ruta = rutaBase + valor_legal + "\\" + valor_empl + ".1887.HTM";
 File fichero=new File(ruta);
diff --git a/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body.jsp b/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body.jsp
index 394c27fa..c1c42649 100644
--- a/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body.jsp
+++ b/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body.jsp
@@ -130,12 +130,12 @@ String zNavegation="0";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="0" colspan="5">
 <__:dataloop outputdef="<%=znodo%>">
-<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvalute"item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zNotes"item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvalute" item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zNotes" item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 
 <__:item   __varname="zFecEval" item="SCO_EVALUAT_DATE" htmlsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20150326.jsp b/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20150326.jsp
index 90b97f51..9a354169 100644
--- a/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20150326.jsp
+++ b/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20150326.jsp
@@ -103,12 +103,12 @@ String zNavegation="0";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="0">
 <__:dataloop outputdef="<%=znodo%>">
-<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvalute"item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zNotes"item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvalute" item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zNotes" item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 
 <__:item   __varname="zFecEval" item="SCO_EVALUAT_DATE" htmlsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20170314.jsp b/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20170314.jsp
index c62797e0..ff9b72a2 100644
--- a/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20170314.jsp
+++ b/ttt/__custom/ooo/ttttg3/ooo_autoevaluacion_filter_body_v20170314.jsp
@@ -122,12 +122,12 @@ String zNavegation="0";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="0" colspan="4">
 <__:dataloop outputdef="<%=znodo%>">
-<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvalute"item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zNotes"item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvalute" item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zNotes" item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 
 <__:item   __varname="zFecEval" item="SCO_EVALUAT_DATE" htmlsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/ooo_evaluator_val.jsp b/ttt/__custom/ooo/ttttg3/ooo_evaluator_val.jsp
index eae2f0f5..f594e2ed 100644
--- a/ttt/__custom/ooo/ttttg3/ooo_evaluator_val.jsp
+++ b/ttt/__custom/ooo/ttttg3/ooo_evaluator_val.jsp
@@ -274,7 +274,7 @@ if ((zfiltroevaluate==null)|| (""==zfiltroevaluate)){zfiltroevaluate = "";}
 <__:dataloop outputdef="<%=znodo%>">
 <__:current __varname="zcurrent" outputdef="<%=znodo%>"/>
 <__:item  __varname="zIdPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item  __varname="zDtStartProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item  __varname="zDtStartProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
 <__:item  __varname="zEvaluator" item="STD_ID_PERSON" htmlsafe="true" outputdef="<%=znodo%>"/>
 <__:item  __varname="zResp1" item="STD_ID_PERSON_RESP" htmlsafe="true" outputdef="<%=znodo%>"/>
 <__:item  __varname="zResp2" item="STD_ID_PERSON_RESP2" htmlsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/espanol/ooo_definir_criterios.jsp b/ttt/__custom/ooo/ttttg3/espanol/ooo_definir_criterios.jsp
index 62ba352d..b6b7b538 100644
--- a/ttt/__custom/ooo/ttttg3/espanol/ooo_definir_criterios.jsp
+++ b/ttt/__custom/ooo/ttttg3/espanol/ooo_definir_criterios.jsp
@@ -156,11 +156,11 @@ String zSCO_DT_START_PROC_ANT="";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="0">
 <__:dataloop outputdef="<%=znodo%>">
-	<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-	<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-	<__:item   __varname="zIDEvalute"item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
-	<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-	<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+	<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+	<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+	<__:item   __varname="zIDEvalute" item="SCO_ID_HR" htmlsafe="true" outputdef="<%=znodo%>"/>
+	<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+	<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 	<%if (((zIDPlan.equals(zSCO_ID_EVAL_PLAN_ANT)==false) || (zDtStarProc.equals(zSCO_DT_START_PROC_ANT)==false) ) ){
 		zSCO_ID_EVAL_PLAN_ANT=zIDPlan;
diff --git a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter.jsp b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter.jsp
index e2c6860c..e684cd25 100644
--- a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter.jsp
+++ b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter.jsp
@@ -188,11 +188,11 @@ String zNavegation="0";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="1">
 <__:dataloop outputdef="<%=znodo%>">
-<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zNotes"item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zNotes" item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 <__:item   __varname="vSCO_ID_HR" item="SCO_ID_HR" jsafe="true" outputdef="<%=znodo%>"/>
 <__:item   __varname="vSCO_OR_HR_ROLE" item="SCO_OR_HR_ROLE" jsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_V20170322.jsp b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_V20170322.jsp
index 26b49ea0..a95bacc1 100644
--- a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_V20170322.jsp
+++ b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_V20170322.jsp
@@ -175,11 +175,11 @@ String zNavegation="0";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="1">
 <__:dataloop outputdef="<%=znodo%>">
-<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zNotes"item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zNotes" item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 <__:item   __varname="vSCO_ID_HR" item="SCO_ID_HR" jsafe="true" outputdef="<%=znodo%>"/>
 <__:item   __varname="vSCO_OR_HR_ROLE" item="SCO_OR_HR_ROLE" jsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_v20160218.jsp b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_v20160218.jsp
index bed2b6d1..c4eb7225 100644
--- a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_v20160218.jsp
+++ b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_v20160218.jsp
@@ -175,11 +175,11 @@ String zNavegation="0";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="0">
 <__:dataloop outputdef="<%=znodo%>">
-<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zNotes"item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zNotes" item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 <__:item   __varname="vSCO_ID_HR" item="SCO_ID_HR" jsafe="true" outputdef="<%=znodo%>"/>
 <__:item   __varname="vSCO_OR_HR_ROLE" item="SCO_OR_HR_ROLE" jsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_vPrevia.jsp b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_vPrevia.jsp
index e2c6860c..e684cd25 100644
--- a/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_vPrevia.jsp
+++ b/ttt/__custom/ooo/ttttg3/espanol/ooo_evaluacion_filter_vPrevia.jsp
@@ -188,11 +188,11 @@ String zNavegation="0";
 %>	
 <table class = "tablaestadosceldatitulo" width="100%" cellspacing="0" border="1">
 <__:dataloop outputdef="<%=znodo%>">
-<__:item   __varname="zIDPlan"item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zDtStarProc"item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zIDEvaluator"item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zPpal"item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
-<__:item   __varname="zNotes"item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDPlan" item="SCO_ID_EVAL_PLAN" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zDtStarProc" item="SCO_DT_START_PROC" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zIDEvaluator" item="SCO_ID_EVALUATOR" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zPpal" item="SCO_EVALUATION_DEF" htmlsafe="true" outputdef="<%=znodo%>"/>
+<__:item   __varname="zNotes" item="SCO_CK_NOTES" htmlsafe="true" outputdef="<%=znodo%>"/>
 
 <__:item   __varname="vSCO_ID_HR" item="SCO_ID_HR" jsafe="true" outputdef="<%=znodo%>"/>
 <__:item   __varname="vSCO_OR_HR_ROLE" item="SCO_OR_HR_ROLE" jsafe="true" outputdef="<%=znodo%>"/>
diff --git a/ttt/__custom/ooo/ttttg3/espanol/ttttg3_p0.jsp b/ttt/__custom/ooo/ttttg3/espanol/ttttg3_p0.jsp
index 43aabc59..cface960 100644
--- a/ttt/__custom/ooo/ttttg3/espanol/ttttg3_p0.jsp
+++ b/ttt/__custom/ooo/ttttg3/espanol/ttttg3_p0.jsp
@@ -71,7 +71,7 @@ if ((zinicios==null)||(zinicios.equals(""))){zinicios = "1";}
 <tr>
 	<td><img src="/iconos/noname_puesto_181_125.gif" width="115" height="100" alt="Historial de puestos"title="Historial de puestos" /></td>
 	<td>
-	<div class="fuentedescripcion">Consultaff tu historial de puestos, para ver la descripci&oacute;n de cada puesto sit&uacute;ate sobre el nombre del mismo.</div>
+	<div class="fuentedescripcion">Consulta tu historial de puestos, para ver la descripci&oacute;n de cada puesto sit&uacute;ate sobre el nombre del mismo.</div>
 	<ul class="listaenlace">
 	<li><a class="enlacefuncional" tabindex="1" title="Ir a mi puesto de trabajo" href="/servlet/CheckSecurity/JSP/ttttg3/ttttg3_menu.jsp?estado=3">Mi puesto de trabajo</a></li>
 	</ul>
diff --git a/ttt/__custom/ooo/ttttg4/espanol/ttttg4_p3.jsp b/ttt/__custom/ooo/ttttg4/espanol/ttttg4_p3.jsp
new file mode 100644
index 00000000..7ff95f5e
--- /dev/null
+++ b/ttt/__custom/ooo/ttttg4/espanol/ttttg4_p3.jsp
@@ -0,0 +1,144 @@
+<%@ taglib uri="__Tags" prefix="__" %><%@ page import="java.io.*, java.util.*, java.net.*" %>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+    "DTD/xhtml1-transitional.dtd">
+<html>
+<head><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
+<title>Calendario de festivos</title>
+<link href="/css/estilo_ttt.css" type="text/css" rel="stylesheet" />
+<script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
+<%@ include file="../../ttttgenerico/espanol/menu____.jsp" %>
+<%@ include file="../../ttttgenerico/espanol/ttttlang_in.jsp" %>
+<script type="text/javascript" src="/libreria/clasecalendario.js"></script>
+<script type="text/javascript" src="/libreria/dom1.js"></script>
+<script type="text/javascript" language="Javascript1.2">
+fecha_actual = new Date();
+var mes = fecha_actual.getMonth();
+var anio = fecha_actual.getFullYear();
+omes0 = new clasecalendario("omes0",0,anio,"hidden",false,0,10);
+omes1 = new clasecalendario("omes1",1,anio,"hidden",false,34,10);
+omes2 = new clasecalendario("omes2",2,anio,"hidden",false,68,10);
+omes3 = new clasecalendario("omes3",3,anio,"hidden",false,0,54);
+omes4 = new clasecalendario("omes4",4,anio,"hidden",false,34,54);
+omes5 = new clasecalendario("omes5",5,anio,"hidden",false,68,54);
+omes6 = new clasecalendario("omes6",6,anio,"hidden",false,68,54);
+omes7 = new clasecalendario("omes7",7,anio,"hidden",false,68,54);
+omes8 = new clasecalendario("omes8",8,anio,"hidden",false,68,54);
+omes9 = new clasecalendario("omes9",9,anio,"hidden",false,68,54);
+omes10 = new clasecalendario("omes10",10,anio,"hidden",false,68,54);
+omes11 = new clasecalendario("omes11",11,anio,"hidden",false,68,54);
+omes12 = new clasecalendario("omes12",12,anio+1,"hidden",false,68,54);
+</script> 
+</head>
+<body style="height:300px">
+
+<%@ include file="../../ttttgenerico/espanol/generico_menusup.jsp" %>
+<%@ include file="../../ttttgenerico/espanol/generico_links.jsp" %>
+<%
+   String zsubsesion = "ttttCARGA_FESTIVOS";
+   String ztestobject = "ttttCARGA_FESTIVOS";
+   String znodo = "ttttFESTIVOS";
+   String zlectura = zsubsesion  + "!" + znodo;
+   String zraiz = zsubsesion  + "!" + znodo + ".";
+   String zmetodocarga =zsubsesion  + "!ttttFESTIVOS.CARGA";
+   String zoutputdef = zsubsesion + "!" + znodo + "[*]";
+   String zf0 ="";
+   String zf1 ="";
+   String zf2 ="";
+   String zf3 ="";
+   String zf4 ="";
+   String zf5 ="";
+   String zf6 ="";
+   String zf7 ="";
+   String zf8 ="";
+   String zf9 ="";
+   String zf10 ="";
+   String zf11 ="";
+   String zf12 ="";
+%>
+<__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
+<__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
+<__:exec __method="<%=zmetodocarga%>"/>
+<__:outputdef><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
+<__:endjob/>
+<%
+	try {
+	  	__Operations m = new __Operations(request);
+		zf0= m.getItem("",ztestobject,znodo,"","ENERO"); 
+		zf1 = m.getItem("",ztestobject,znodo,"","FEBRERO");
+		zf2 = m.getItem("",ztestobject,znodo,"","MARZO");
+		zf3 = m.getItem("",ztestobject,znodo,"","ABRIL");
+		zf4 = m.getItem("",ztestobject,znodo,"","MAYO");
+		zf5 = m.getItem("",ztestobject,znodo,"","JUNIO");
+		zf6 = m.getItem("",ztestobject,znodo,"","JULIO");
+		zf7 = m.getItem("",ztestobject,znodo,"","AGOSTO");
+		zf8 = m.getItem("",ztestobject,znodo,"","SEPTIEMBRE");
+		zf9 = m.getItem("",ztestobject,znodo,"","OCTUBRE");
+		zf10 = m.getItem("",ztestobject,znodo,"","NOVIEMBRE");
+		zf11 = m.getItem("",ztestobject,znodo,"","DICIEMBRE");
+        zf12 = m.getItem("",ztestobject,znodo,"","NAVIDAD");
+	} catch(Exception e) {}
+%>
+<script type="text/javascript">
+omes0.festivos = new Array(<%=zf0%>);
+omes1.festivos = new Array(<%=zf1%>);
+omes2.festivos = new Array(<%=zf2%>);
+omes3.festivos = new Array(<%=zf3%>);
+omes4.festivos = new Array(<%=zf4%>);
+omes5.festivos = new Array(<%=zf5%>);
+omes6.festivos = new Array(<%=zf6%>);
+omes7.festivos = new Array(<%=zf7%>);
+omes8.festivos = new Array(<%=zf8%>);
+omes9.festivos = new Array(<%=zf9%>);
+omes10.festivos = new Array(<%=zf10%>);
+omes11.festivos = new Array(<%=zf11%>);
+omes12.festivos = new Array(<%=zf12%>);
+var coleccionmeses = new Array();
+coleccionmeses[0] = omes0;
+coleccionmeses[1] = omes1;
+coleccionmeses[2] = omes2;
+coleccionmeses[3] = omes3;
+coleccionmeses[4] = omes4;
+coleccionmeses[5] = omes5;
+coleccionmeses[6] = omes6;
+coleccionmeses[7] = omes7;
+coleccionmeses[8] = omes8;
+coleccionmeses[9] = omes9;
+coleccionmeses[10] = omes10;
+coleccionmeses[11] = omes11;
+coleccionmeses[12] = omes12;
+function buscar(cadena){
+	var re = /,/;
+	var r = cadena.search(re);
+	return(r);
+}
+function mostrarcalendarios(paso,mes,pos,coleccionobj){
+if ((paso == 0) || (mes == 13)){
+	return;
+}else{
+	coleccionobj[mes].pintacalendario();
+	coleccionobj[mes].mostrar(true);
+	mostrarcalendarios(paso - 1,mes + 1,pos +1,coleccionobj);
+	}
+}
+</script>
+<table width="100%" cellspacing = "0">
+<tr>
+	<td class="titulofuncional" colspan="2">Calendario de festivos</td>
+</tr>
+<tr>
+	<td><img src="/iconos/noname_calendario_123_100.gif" width="100" height="100" alt="Calendario de festivos"></td>
+	<td><div class="descripcionfuncional">Consulta los d&iacute;as festivos de tu centro de trabajo.</div></td>
+</tr>			
+</table>
+<script type="text/javascript">
+mostrarcalendarios(12,0,0,coleccionmeses);
+</script>
+</div>
+<div id="capa_disclaimer" style="position:relative; width:100%; height:100%; z-index:0"> 
+<%@ include file="../../ttttgenerico/espanol/generico_disclaimer.jsp"%>
+</div>
+<script type="text/javascript">
+</script>
+<__:endpage/>
+</body>
\ No newline at end of file
diff --git a/ttt/__custom/ooo/ttttgenerico/espanol/calendario.jsp b/ttt/__custom/ooo/ttttgenerico/espanol/calendario.jsp
new file mode 100644
index 00000000..5c9b2185
--- /dev/null
+++ b/ttt/__custom/ooo/ttttgenerico/espanol/calendario.jsp
@@ -0,0 +1,364 @@
+<!DOCTYPE html>
+<HTML>
+	<HEAD>
+		<meta charset="windows-1252"/>
+      <TITLE>Calendario</TITLE>
+		<link href="/css/estilo_ttt.css" type="text/css" rel="stylesheet" />
+       <script type="text/javascript" language="Javascript1.2" src="/libreria/funciones_ttt.js"></script>
+       <script type="text/javascript"  language="Javascript1.2" src="/libreria/dom1.js"></script>
+       <script type="text/javascript" language="Javascript1.2">
+         // Initialize arrays.
+         var months = new Array("Enero", "Febrero", "Marzo",
+            "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre",
+            "Octubre", "Noviembre", "Diciembre");
+         var daysInMonth = new Array(31, 28, 31, 30, 31, 30, 31, 31,
+            30, 31, 30, 31);
+         var days = new Array("&nbspDomingo&nbsp", "&nbsp&nbsp&nbspLunes&nbsp&nbsp&nbsp", "&nbsp&nbspMartes&nbsp&nbsp&nbsp",
+            "Mi&eacute;rcoles", "&nbsp&nbspJueves&nbsp&nbsp&nbsp", "&nbsp&nbspViernes&nbsp&nbsp", "&nbsp&nbspS&aacute;bado&nbsp&nbsp");
+
+function getDays(month, year) {
+            // Test for leap year when February is selected.
+            if (1 == month)
+               return ((0 == year % 4) && (0 != (year % 100))) ||
+                  (0 == year % 400) ? 29 : 28;
+            else
+               return daysInMonth[month];
+ }
+function getToday() {
+         // Generate today's date.
+            this.now = new Date();
+            this.year = this.now.getFullYear(); 
+            this.month = this.now.getMonth();
+            this.day = this.now.getDate();
+	    // alert(this.now.getYear());
+}
+// Start with a calendar for today.
+         today = new getToday();
+function newCalendar(mover) {             
+            if (mover == "mas") {
+                if (document.forms["fselect"].elements["month"].selectedIndex != 11){
+                   document.forms["fselect"].elements["month"].selectedIndex = document.forms["fselect"].elements["month"].selectedIndex + 1;
+                }
+                else{				    
+                  //var yeartext = __select("year","fyear","text");
+                  var objyear = document.forms["fselect"].elements["year"];
+                  var yeartext = objyear.options[objyear.selectedIndex].text;
+				    if (yeartext != 2100){
+				        document.forms["fselect"].elements["month"].selectedIndex = 0;
+				        document.forms["fselect"].elements["year"].selectedIndex = document.forms["fselect"].elements["year"].selectedIndex + 1;
+				     }				        
+					
+                 }	
+            }
+			if (mover == "menos") {
+			if (document.forms["fselect"].elements["month"].selectedIndex != 0){
+			    document.forms["fselect"].elements["month"].selectedIndex = document.forms["fselect"].elements["month"].selectedIndex - 1;
+			}			
+			else{
+				    //var yeartext = __select("year","fyear","text");
+                    var objyear = document.forms["fselect"].elements["year"];
+                    var yeartext = objyear.options[objyear.selectedIndex].text;
+                    if (yeartext != 1900){
+				        document.forms["fselect"].elements["month"].selectedIndex = 11;
+				        document.forms["fselect"].elements["year"].selectedIndex = document.forms["fselect"].elements["year"].selectedIndex - 1;
+				    }				     				    
+			}
+			}
+			today = new getToday();
+                  //var yeartext = __select("year","fyear","text");
+            var objyear = document.forms["fselect"].elements["year"];
+            var yeartext = objyear.options[objyear.selectedIndex].text;
+			var parseYear = parseInt(yeartext);
+            
+            var newCal = new Date(parseYear,document.forms["fselect"].elements["month"].selectedIndex, 1);
+            var Calanterior = new Date(parseYear,document.forms["fselect"].elements["month"].selectedIndex-1, 1);
+            var CalPosterior = new Date(parseYear,document.forms["fselect"].elements["month"].selectedIndex+1, 1);
+            
+			var day = -1;
+            var startDay = newCal.getDay();
+            var daily = 0;
+            
+			var numero = 1;
+			var numeropos = 1;
+			var num = 0;
+			
+			if ((today.year == newCal.getYear()) &&
+                  (today.month == newCal.getMonth()))
+               day = today.day;
+               
+            // Cache the table's tBody element named dayList.
+            
+            var tableCal = __elemento("dayList");
+            
+			var intDaysInMonth =
+               getDays(newCal.getMonth(), newCal.getYear());
+			
+			var intDaysInMonthAnt =
+              getDays(Calanterior.getMonth(), Calanterior.getYear());
+			
+			var intDaysInMonthPos =
+               getDays(CalPosterior.getMonth(), CalPosterior.getYear());
+            
+			var numeroant = intDaysInMonthAnt - startDay + 1;
+		
+			
+			for (var intWeek = 0; intWeek < tableCal.rows.length;
+                  intWeek++)
+               for (var intDay = 0;
+                     intDay < tableCal.rows[intWeek].cells.length;
+                     intDay++) {
+				
+                  var cell = tableCal.rows[intWeek].cells[intDay];
+                 // Start counting days.
+                   if (intDay == startDay){ daily = 1};
+				 // Output the day number into the cell.
+                  cell.style.backgroundColor='#d3d3d3';
+				  //#E3E4FD
+				 //alert(intDaysInMonth);
+				 //alert(num-startDay +1);    
+					if ((num-startDay +1) > intDaysInMonth){
+                                if (cell.hasChildNodes() == true) {
+                                     cell.removeChild(cell.firstChild);
+                                 }
+                        var textocelda = document.createTextNode(numeropos++);
+                         cell.appendChild(textocelda);
+                         //cell.innerText = numeropos++;
+						cell.style.backgroundColor='white';
+				} 
+				 
+				if ((daily = 1) && (numero <= intDaysInMonth)){
+					if ((num-startDay) < 0 ){					 
+					 //cell.innerText = numeroant++;
+                           if (cell.hasChildNodes() == true) {                                              
+								cell.removeChild(cell.firstChild);
+                           }
+			               var textocelda = document.createTextNode(numeroant++);
+                           cell.appendChild(textocelda);
+                           cell.style.backgroundColor='#a9a9a9';
+                     }
+					 else{
+                         if (cell.hasChildNodes() == true) {
+                             cell.removeChild(cell.firstChild);
+                         }
+					var textocelda = document.createTextNode(numero++);
+                    cell.appendChild(textocelda);
+                    //cell.innerText = numero++;
+                }
+			}
+            num++;	 
+		}
+			
+			 // Para resaltar el dia actual.
+			for (intWeek = 0; intWeek < tableCal.rows.length; intWeek++)
+               for (intDay = 0; intDay < tableCal.rows[intWeek].cells.length; intDay++) {
+					cell = tableCal.rows[intWeek].cells[intDay];
+				   	cell.className = (cell.firstChild.nodeValue == today.day && cell.style.backgroundColor != '#a9a9a9' && cell.style.backgroundColor != 'white') ? "today" : "";
+                                        //alert(today.day);
+				}	
+}
+
+
+ var color = 'red';
+   
+function getDate(TD){
+            // This code executes when the user clicks on a day
+            // in the calendar
+
+    
+    var colecciontd = document.getElementsByTagName("TD");
+	for (var i = 0; i < colecciontd.length; i++){ 
+		if (colecciontd.item(i).style.backgroundColor == '#b0e0e6'){
+		colecciontd.item(i).style.backgroundColor = color;}
+		//'#E3E4FD'
+	}
+
+    color = TD.style.backgroundColor;
+    //alert("color: "+color);
+    TD.style.backgroundColor = '#b0e0e6';
+                                        var objanio = document.forms["fselect"].elements["year"];
+                                        var anio = objanio.options[objanio.selectedIndex].text;
+                                        //var anio = __select("year","fyear","text");
+                                        var objmesnum = document.forms["fselect"].elements["month"];
+                                        var mesnumero = objmesnum.options[objmesnum.selectedIndex].index +1;
+                                        //alert("mesnumero: "+mesnumero);
+					if ('#a9a9a9' == color)                                         
+					{        
+                                                 var objmesnum = document.forms["fselect"].elements["month"];   
+                                                 var mesnumero = objmesnum.options[objmesnum.selectedIndex].index;                                     
+					 	 if (mesnumero != 0 ){
+                                                    var objmesnum = document.forms["fselect"].elements["month"]; 
+                                                    mesnumero = objmesnum.options[objmesnum.selectedIndex].index;  
+                                                    
+                                                 }
+                         else {
+					          mesnumero = '12';
+                                                  var objyear = document.forms["fselect"].elements["year"];
+                                                  var yeartext = objyear.options[objyear.selectedIndex].text;
+                                                  //var yeartext = __select("year","fyear","text");
+                                                     if (yeartext != '1900'){  
+                                                          var objanio = document.forms["fselect"].elements["year"];
+                                                          var anio = objanio.options[objanio.selectedIndex-1].text;                                                       
+                                                          
+                                                          //alert("anio: "+anio);                              
+                                                     }        
+
+					                                                               
+					       
+					          else{
+					          anio = '1899';}
+					         }
+					//alert(mesnumero);
+					}
+
+					if ('white' == color)
+					{
+                                               var objmesnum = document.forms["fselect"].elements["month"];
+                                               var mesnumero = objmesnum.options[objmesnum.selectedIndex].index;
+                                               if (mesnumero < 10 ){
+                                                   var objmesnum = document.forms["fselect"].elements["month"];
+                                                   mesnumero = objmesnum.options[objmesnum.selectedIndex+2].index;
+                                                   //mesnumero = document.forms["fmonth"].elements["month"].options[mesnumero.selectedIndex + 2].index;                                                   
+                                               }           
+
+					 	
+					       
+					       else 
+                                                     if (mesnumero == 10){ 
+                                                     mesnumero = '12';}
+                                               else  {
+                                                       mesnumero = '1';
+                                                       var objyear = document.forms["fselect"].elements["year"];
+                                                       var yeartext = objyear.options[objyear.selectedIndex].text;
+                                                       //var yeartext = __select("year","fyear","text");
+                                                       if (yeartext != '2100'){
+                                                          var objanio = document.forms["fselect"].elements["year"];
+                                                          var anio = objanio.options[objanio.selectedIndex + 1].text;
+                                                          //anio = document.forms["fyear"].elements["year"].options[anio.selectedIndex + 1].text;
+                                                          
+                                                       }
+                                                          
+                                                        else { anio = '2101'}
+                                               }
+                    }
+					//Correccion para el dia y mes con una sola cifra, ejemplo: 1=01
+					//var dianumero = event.srcElement.innerText;
+                                        var dianumero = TD.firstChild.nodeValue;
+                                        
+							if (dianumero.length != 2){
+							dianumero = '0' + dianumero;
+							}
+					
+					var strmesnumero = new String(mesnumero);
+								
+							//alert(strmesnumero);
+							if (strmesnumero.length != 2){
+							strmesnumero = '0' + strmesnumero;
+							}
+					
+					//Fin de la correccion para el dia y mes con una sola cifra
+					
+					//var fechasec = anio + "-" + strmesnumero + "-" + dianumero;
+					var fechasec = dianumero + "-" + strmesnumero + "-" + anio;
+	
+	document.forms["miform"].elements["fecha"].value = fechasec;
+	
+	if (!document.all){
+		if(!opener)opener=parent.window.opener;
+		opener.ventana.returnedValue = fechasec;
+		opener.ventana.__returnfunc();
+	}
+}
+		function adios(){
+			if(!opener)opener=parent.window.opener;
+			opener.ventana.win.close();
+		}
+	</script>
+   </head>
+   <body onunload="window.returnValue = document.forms['miform'].elements['fecha'].value;">
+	<form id="miform" name="miform" action="">
+		<input type="hidden"  id = "fecha" name = "fecha" />          
+	</form>
+      <table WIDTH= 80% align= "center">
+	  <thead>
+            <tr class='colortabla' >
+               <td colspan=7 align="center">
+                  <!-- Month combo box -->
+                   <form id="fselect" name="fselect" action="" >                    
+                    <select id="month" onchange="newCalendar()" class="fuenteformulario100">
+                     <script type="text/javascript">
+                        // Output months into the document.
+                        // Select current month.
+                        for (var intLoop = 0; intLoop < months.length;
+                              intLoop++)
+                           document.write("<option class ='enlacefuncional'" +
+                              (today.month == intLoop ?
+                                 "Selected" : "") + ">" +
+                              months[intLoop]);
+                     </script>
+                  </select>                  
+                  <!-- Year combo box -->
+                  <select id="year" onchange="newCalendar()"  class="fuenteformulario100">
+                     <script type="text/javascript">
+                        // Output years into the document.
+                        // Select current year.
+                        for (var intLoop = 1900; intLoop < 2101;
+                              intLoop++)
+                           document.write("<option class ='enlacefuncional'" +
+                              (today.year == intLoop ?
+                                 "Selected" : "") + ">" +
+                              intLoop);
+                     </script>
+                  </select>                  
+                 </form>
+               </td>
+            </tr>
+         </thead>
+		</table> 
+      <table id="calendar" class='calendario'>
+         <thead>
+            <tr class="days">
+               <!-- Generate column for each day. -->
+               <script type="text/javascript">
+                  // Output days.
+                  for (var intLoop = 0; intLoop < days.length;
+                        intLoop++)
+                     document.write("<td class='enlacefuncional'>" + days[intLoop] + "</td>");
+               </script>
+            </tr>
+         </thead>
+         <tbody id="dayList" name="dayList" align="center"  ; ondblclick="adios()">
+            <!-- Generate grid for individual days. -->
+            <script type="text/javascript">              
+               for (var intWeeks = 0; intWeeks < 6; intWeeks++) {
+                 //alert("intWeeks: "+ intWeeks);
+                  document.write("<tr class='enlacefuncional'>");
+                  for (var intDays = 0; intDays < days.length;
+                        intDays++){  
+                        //alert("intDays: "+ intDays);                                            
+                     document.write("<td style='cursor: default'; onclick = 'getDate(this)' ></td>");
+                   }
+                      document.write("</tr>");                                 				
+                }             
+            </script>
+         </tbody>
+      </table>
+<table width="100%">
+	  <tr>
+		<td align="center">
+			<a onclick="javascript:newCalendar('menos');"><img alt="mes anterior" src="/iconos/icono_anterior_36_36.gif" height="36" width="36"></img></a>
+			<a onclick="javascript:adios();"><img src="/iconos/ok.gif" width="36" height="36" alt="Aceptar"></img></a>
+			<a onclick="javascript:newCalendar('mas');"><img alt="mes posterior" src="/iconos/icono_siguiente_____36_36.gif" height="36" width="36"></img></a>
+		</td>  
+      </tr>
+</table>
+  <script type="text/javascript">
+    newCalendar();
+  </script>
+  </BODY>
+</HTML>
+<%
+// Do not remove this comment - forces compilation in JRun 4.0!
+%>
+
+
+
diff --git a/ttt/__custom/ooo/ttttgenerico/espanol/tttttfooter.jsp b/ttt/__custom/ooo/ttttgenerico/espanol/tttttfooter.jsp
index 49ad9ba2..791785b3 100644
--- a/ttt/__custom/ooo/ttttgenerico/espanol/tttttfooter.jsp
+++ b/ttt/__custom/ooo/ttttgenerico/espanol/tttttfooter.jsp
@@ -1,19 +1,17 @@
 <%
 response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
 response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
+response.setDateHeader ("Expires", 0); //prevents caching at the proxy server 
+response.setHeader("Content-type","text/plain; charset=windows-1252");
+%><%@ taglib uri="__Tags" prefix="__"%>
 <__:page subs___ionid="Sooo_FOOTER">
     <__:job>
         <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
         <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
         <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
     </__:job>
-
 <div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
+    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/><br/>
     <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
 </div>
 </__:page>
\ No newline at end of file
diff --git a/ttt/__custom/ooo/ttttgenerico/espanol/ssco_portal.jsp b/ttt/__custom/ooo/ttttgenerico/espanol/ssco_portal.jsp
new file mode 100644
index 00000000..77c7dd49
--- /dev/null
+++ b/ttt/__custom/ooo/ttttgenerico/espanol/ssco_portal.jsp
@@ -0,0 +1,4 @@
+<!DOCTYPE html>
+<html lang="es">
+    <%@ include file="../ssco_portal.jsp"%>
+</html>
\ No newline at end of file
diff --git a/ttt/__custom/ooo/ttttgenerico/tttttfooter.jsp b/ttt/__custom/ooo/ttttgenerico/tttttfooter.jsp
index 49ad9ba2..791785b3 100644
--- a/ttt/__custom/ooo/ttttgenerico/tttttfooter.jsp
+++ b/ttt/__custom/ooo/ttttgenerico/tttttfooter.jsp
@@ -1,19 +1,17 @@
 <%
 response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
 response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
+response.setDateHeader ("Expires", 0); //prevents caching at the proxy server 
+response.setHeader("Content-type","text/plain; charset=windows-1252");
+%><%@ taglib uri="__Tags" prefix="__"%>
 <__:page subs___ionid="Sooo_FOOTER">
     <__:job>
         <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
         <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
         <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
     </__:job>
-
 <div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
+    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/><br/>
     <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
 </div>
 </__:page>
\ No newline at end of file
diff --git a/ttt/__custom/ooo/ttttgenerico/tttttportal.jsp b/ttt/__custom/ooo/ttttgenerico/tttttportal.jsp
index b2224394..13d7a82e 100644
--- a/ttt/__custom/ooo/ttttgenerico/tttttportal.jsp
+++ b/ttt/__custom/ooo/ttttgenerico/tttttportal.jsp
@@ -160,9 +160,9 @@ String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSub
 String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
 String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
 String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
+%>
+<head>
+    <meta charset="Windows-1252" />
     <link rel="stylesheet" href="/libreria/colorbox.css" />
     <script type="text/javascript" src="/libreria/jquery.min.js"></script>
     <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
@@ -170,17 +170,17 @@ String sMenuLeftContentClose = "</ul></div>";
 <%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
 	<script type="text/javascript" src="/libreria/mootools.js"></script>
 	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
+if (b___) {
+	String estilo_ttt = (String)s___ion.getAttribute("estilo_ttt");
+	if (estilo_ttt == null || estilo_ttt.equals("")) estilo_ttt = "/css/estilo_ttt.css";%>
+	<link href="<%=estilo_ttt%>" type="text/css" rel="stylesheet" />
 	<title><%=Tran.getProperty("Title.Portal___")%></title><%
 } else {%>
   <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
+  <title><%=Tran.getProperty("Title.Portalyyy")%></title><%
+  }
+%><link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>
+  <link rel='stylesheet' type='text/css' href='/css/ooo_estilo_ttt.css?v=<%= System.currentTimeMillis() %>'/>
 </head>
 <body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
 	//Begin: Portal page%>
@@ -191,18 +191,18 @@ if (b___) {%>
 	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
 	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
 	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
     <div class="fill">
+		<div class="logo">
+			<div class="title"><%
+			if (b___) {%>
+			   <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
+				<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
+			} else {%>
+			   <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
+				<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
+			}%>
+			</div>
+		</div>
         <div class="right">
             <div class="buttons">
               <%if (b___) {%>
@@ -541,6 +541,4 @@ ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%=
     </script>
 
 </body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
+</__:page><%o__Log.debug("tttttportal: exit");%>
\ No newline at end of file
diff --git a/ttt/__custom/ooo/ttttgenerico/ssco_portal.jsp b/ttt/__custom/ooo/ttttgenerico/ssco_portal.jsp
new file mode 100644
index 00000000..b9ce71a8
--- /dev/null
+++ b/ttt/__custom/ooo/ttttgenerico/ssco_portal.jsp
@@ -0,0 +1 @@
+<%boolean b___ = true;%><%@ include file="tttttportal.jsp"%>
\ No newline at end of file
diff --git a/ttt/__custom/tgbhfd/css/style_subportal_cv.css b/ttt/__custom/tgbhfd/css/style_subportal_cv.css
index a5d8b8b6..e7425527 100644
--- a/ttt/__custom/tgbhfd/css/style_subportal_cv.css
+++ b/ttt/__custom/tgbhfd/css/style_subportal_cv.css
@@ -398,3 +398,12 @@ A:hover
   width: 26px;
   height: 26px;
 }
+
+
+/*******************************/
+div{
+	float:left;
+}
+.portaltitle .divright{
+	float:right;
+}
\ No newline at end of file
diff --git a/ttt/__custom/tgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/tgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp
index 929bad5b..f724f207 100644
--- a/ttt/__custom/tgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/tgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/tgbhfd/ttttgenerico/espanol/ssco_portal.jsp b/ttt/__custom/tgbhfd/ttttgenerico/espanol/ssco_portal.jsp
index c4b138fb..fa35a1da 100644
--- a/ttt/__custom/tgbhfd/ttttgenerico/espanol/ssco_portal.jsp
+++ b/ttt/__custom/tgbhfd/ttttgenerico/espanol/ssco_portal.jsp
@@ -1,4 +1,6 @@
-<% 
+<!DOCTYPE html>
+<html lang="es"><% 
 	s___ion.setAttribute("ooo_project","tgbhfd");
 	s___ion.setAttribute("estilo_ttt","/css/estilo_ttttcv.css");
-%><%@ include file="../ssco_portal.jsp"%>
\ No newline at end of file
+%><%@ include file="../ssco_portal.jsp"%>
+</html>
\ No newline at end of file
diff --git a/ttt/__custom/gdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/gdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/gdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/gdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/gdmwshdjx/ttttgenerico/tttttportal.jsp b/ttt/__custom/gdmwshdjx/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/gdmwshdjx/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/gdmwshdjx/ttttgenerico/tttttsubportal.jsp b/ttt/__custom/gdmwshdjx/ttttgenerico/tttttsubportal.jsp
index 23134b96..b055f254 100644
--- a/ttt/__custom/gdmwshdjx/ttttgenerico/tttttsubportal.jsp
+++ b/ttt/__custom/gdmwshdjx/ttttgenerico/tttttsubportal.jsp
@@ -1,9 +1,4 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" ><%@ taglib uri = "__Tags" prefix = "__"%>
-<%@ page import = "java.io.*, java.util.*, java.net.*"%>
-<%@ page import = "com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%>
-<%@ page import = "com.test.common.utils.logsystem.__i18nCategory"%>
-<%
+<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
 __i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp"); 
 o__Log.debug("tttttsubportal: entry");
 response.setDateHeader("Expires", -1);
@@ -160,7 +155,7 @@ String sSpListClose = "</ul>";
 String sSpBlockClose = "</div></div></div></div>";
 %>
   <head>
-    <meta http-equiv="X-UA-Compatible" content="IE=7" />
+    <meta charset="Windows-1252" />
     <meta http-equiv="cache-control" content="max-age=0" />
     <meta http-equiv="cache-control" content="no-cache" />
     <meta http-equiv="expires" content="0" />
diff --git a/ttt/__custom/rhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/rhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/rhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/rhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/rhsxkq/ttttgenerico/tttttportal.jsp b/ttt/__custom/rhsxkq/ttttgenerico/tttttportal.jsp
index b2224394..288f9043 100644
--- a/ttt/__custom/rhsxkq/ttttgenerico/tttttportal.jsp
+++ b/ttt/__custom/rhsxkq/ttttgenerico/tttttportal.jsp
@@ -160,9 +160,9 @@ String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSub
 String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
 String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
 String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
+%>
+<head>
+    <meta charset="Windows-1252" />
     <link rel="stylesheet" href="/libreria/colorbox.css" />
     <script type="text/javascript" src="/libreria/jquery.min.js"></script>
     <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
@@ -170,17 +170,17 @@ String sMenuLeftContentClose = "</ul></div>";
 <%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
 	<script type="text/javascript" src="/libreria/mootools.js"></script>
 	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
+if (b___) {
+	String estilo_ttt = (String)s___ion.getAttribute("estilo_ttt");
+	if (estilo_ttt == null || estilo_ttt.equals("")) estilo_ttt = "/css/estilo_ttt.css";%>
+	<link href="<%=estilo_ttt%>" type="text/css" rel="stylesheet" />
 	<title><%=Tran.getProperty("Title.Portal___")%></title><%
 } else {%>
   <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
+  <title><%=Tran.getProperty("Title.Portalyyy")%></title><%
+  }
+%><link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>
+  <link rel='stylesheet' type='text/css' href='/css/ooo_estilo_ttt.css?v=<%= System.currentTimeMillis() %>'/>
 </head>
 <body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
 	//Begin: Portal page%>
@@ -191,18 +191,18 @@ if (b___) {%>
 	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
 	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
 	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
     <div class="fill">
+		<div class="logo">
+			<div class="title"><%
+			if (b___) {%>
+			   <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
+				<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
+			} else {%>
+			   <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
+				<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
+			}%>
+			</div>
+		</div>
         <div class="right">
             <div class="buttons">
               <%if (b___) {%>
@@ -540,7 +540,5 @@ ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%=
                     
     </script>
 
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
+</body> 
+</__:page><%o__Log.debug("tttttportal: exit");%>
\ No newline at end of file
diff --git a/ttt/__custom/ldithad/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/ldithad/ttttg2/espanol/ttttg2_p126_ce.jsp
index 4a3a7a9d..654c7bb0 100644
--- a/ttt/__custom/ldithad/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/ldithad/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -183,7 +183,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -209,7 +209,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/ldithad/ttttgenerico/tttttportal.jsp b/ttt/__custom/ldithad/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/ldithad/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/shblsw/ttttgenerico/tttttportal.jsp b/ttt/__custom/shblsw/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/shblsw/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/shbtgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/shbtgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp
index 929bad5b..f724f207 100644
--- a/ttt/__custom/shbtgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/shbtgbhfd/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/shbtgbhfd/ttttgenerico/espanol/ssco_portal.jsp b/ttt/__custom/shbtgbhfd/ttttgenerico/espanol/ssco_portal.jsp
index c4b138fb..76507381 100644
--- a/ttt/__custom/shbtgbhfd/ttttgenerico/espanol/ssco_portal.jsp
+++ b/ttt/__custom/shbtgbhfd/ttttgenerico/espanol/ssco_portal.jsp
@@ -1,4 +1,7 @@
-<% 
+<!DOCTYPE html>
+<html lang="es">
+    <% 
 	s___ion.setAttribute("ooo_project","tgbhfd");
 	s___ion.setAttribute("estilo_ttt","/css/estilo_ttttcv.css");
-%><%@ include file="../ssco_portal.jsp"%>
\ No newline at end of file
+%><%@ include file="../ssco_portal.jsp"%>
+</html>
\ No newline at end of file
diff --git a/ttt/__custom/shbgdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/shbgdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/shbgdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/shbgdmwshdjx/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/shbgdmwshdjx/ttttgenerico/tttttportal.jsp b/ttt/__custom/shbgdmwshdjx/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/shbgdmwshdjx/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/shbrhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/shbrhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/shbrhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/shbrhsxkq/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/shbrhsxkq/ttttgenerico/tttttportal.jsp b/ttt/__custom/shbrhsxkq/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/shbrhsxkq/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/shbldithad/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/shbldithad/ttttg2/espanol/ttttg2_p126_ce.jsp
index 4a3a7a9d..654c7bb0 100644
--- a/ttt/__custom/shbldithad/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/shbldithad/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -183,7 +183,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -209,7 +209,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/shbldithad/ttttgenerico/tttttportal.jsp b/ttt/__custom/shbldithad/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/shbldithad/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/espanol/tttttfooter.jsp b/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/espanol/tttttfooter.jsp
deleted file mode 100644
index 49ad9ba2..00000000
--- a/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/espanol/tttttfooter.jsp
+++ /dev/null
@@ -1,19 +0,0 @@
-<%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
-<__:page subs___ionid="Sooo_FOOTER">
-    <__:job>
-        <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
-        <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
-        <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
-    </__:job>
-
-<div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
-</div>
-</__:page>
\ No newline at end of file
diff --git a/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/tttttfooter.jsp b/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/tttttfooter.jsp
deleted file mode 100644
index 49ad9ba2..00000000
--- a/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/tttttfooter.jsp
+++ /dev/null
@@ -1,19 +0,0 @@
-<%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
-<__:page subs___ionid="Sooo_FOOTER">
-    <__:job>
-        <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
-        <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
-        <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
-    </__:job>
-
-<div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
-</div>
-</__:page>
\ No newline at end of file
diff --git a/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/tttttportal.jsp b/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/shbpertncohqpadifjs/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/shbsdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/shbsdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp
index b6621bfc..f1b62c5f 100644
--- a/ttt/__custom/shbsdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/shbsdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -183,7 +183,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -209,7 +209,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/shbsdfghjk/ttttgenerico/tttttportal.jsp b/ttt/__custom/shbsdfghjk/ttttgenerico/tttttportal.jsp
index 8f53de87..499b2847 100644
--- a/ttt/__custom/shbsdfghjk/ttttgenerico/tttttportal.jsp
+++ b/ttt/__custom/shbsdfghjk/ttttgenerico/tttttportal.jsp
@@ -1,5 +1,3 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
-<html xmlns="http://www.w3.org/1999/xhtml" > 
 <%@ taglib uri="__Tags" prefix="__"%>
 <%@ page import="java.io.*, java.util.*, java.net.*"%>
 <%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%>
@@ -187,9 +185,8 @@ String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuL
 String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
 String sMenuLeftContentClose = "</ul></div>";
 %>
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
 <head>
+    <meta charset="Windows-1252" />						   
 <%@ include file="/ttttgenerico/generico_formats.jsp" %>
 <%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
 <script type="text/javascript" src="/libreria/mootools.js"></script>
@@ -200,11 +197,9 @@ String sMenuLeftContentClose = "</ul></div>";
 <%} else {%>
   <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css"/>
   <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css'/>");}
-</script>
+<%}
+%><link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>
+  <link rel='stylesheet' type='text/css' href='/css/ooo_estilo_ttt.css?v=<%= System.currentTimeMillis() %>'/>
 </head>
 <body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();">
 <%//Begin: Portal page%>
@@ -216,18 +211,18 @@ o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
 String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
 o__Log.debug("  sUrlLogin: " + sUrlLogin);
 %>
-    <div class="logo">
-        <div class="title">
-<%if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-           <span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span>
-<%} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-           <span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span>
-<%}%>
-        </div>
-    </div>
     <div class="fill">
+		<div class="logo">
+			<div class="title">
+	<%if (b___) {%>
+			   <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
+			   <span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span>
+	<%} else {%>
+			   <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
+			   <span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span>
+	<%}%>
+			</div>
+		</div>
         <div class="right">
             <div class="buttons">
               <%if (b___) {%>
@@ -420,6 +415,5 @@ s___ion.setAttribute("avisoinsc","1");
 %>
 </body>
 
-</html>
 </__:page><%o__Log.debug("tttttportal: exit");%>
  
\ No newline at end of file
diff --git a/ttt/__custom/shbthxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/shbthxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/shbthxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/shbthxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/shbTXXC/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/shbTXXC/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/shbTXXC/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/shbTXXC/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/pertncohqpadifjs/ttttgenerico/espanol/tttttfooter.jsp b/ttt/__custom/pertncohqpadifjs/ttttgenerico/espanol/tttttfooter.jsp
deleted file mode 100644
index 49ad9ba2..00000000
--- a/ttt/__custom/pertncohqpadifjs/ttttgenerico/espanol/tttttfooter.jsp
+++ /dev/null
@@ -1,19 +0,0 @@
-<%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
-<__:page subs___ionid="Sooo_FOOTER">
-    <__:job>
-        <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
-        <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
-        <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
-    </__:job>
-
-<div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
-</div>
-</__:page>
\ No newline at end of file
diff --git a/ttt/__custom/pertncohqpadifjs/ttttgenerico/tttttfooter.jsp b/ttt/__custom/pertncohqpadifjs/ttttgenerico/tttttfooter.jsp
deleted file mode 100644
index 49ad9ba2..00000000
--- a/ttt/__custom/pertncohqpadifjs/ttttgenerico/tttttfooter.jsp
+++ /dev/null
@@ -1,19 +0,0 @@
-<%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
-<__:page subs___ionid="Sooo_FOOTER">
-    <__:job>
-        <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
-        <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
-        <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
-    </__:job>
-
-<div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
-</div>
-</__:page>
\ No newline at end of file
diff --git a/ttt/__custom/pertncohqpadifjs/ttttgenerico/tttttportal.jsp b/ttt/__custom/pertncohqpadifjs/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/pertncohqpadifjs/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/SER_ASES/ttttgenerico/espanol/tttttfooter.jsp b/ttt/__custom/SER_ASES/ttttgenerico/espanol/tttttfooter.jsp
deleted file mode 100644
index 49ad9ba2..00000000
--- a/ttt/__custom/SER_ASES/ttttgenerico/espanol/tttttfooter.jsp
+++ /dev/null
@@ -1,19 +0,0 @@
-<%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
-<__:page subs___ionid="Sooo_FOOTER">
-    <__:job>
-        <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
-        <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
-        <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
-    </__:job>
-
-<div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
-</div>
-</__:page>
\ No newline at end of file
diff --git a/ttt/__custom/SER_ASES/ttttgenerico/tttttfooter.jsp b/ttt/__custom/SER_ASES/ttttgenerico/tttttfooter.jsp
deleted file mode 100644
index 49ad9ba2..00000000
--- a/ttt/__custom/SER_ASES/ttttgenerico/tttttfooter.jsp
+++ /dev/null
@@ -1,19 +0,0 @@
-<%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
-<__:page subs___ionid="Sooo_FOOTER">
-    <__:job>
-        <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
-        <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
-        <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
-    </__:job>
-
-<div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
-</div>
-</__:page>
\ No newline at end of file
diff --git a/ttt/__custom/SER_ASES/ttttgenerico/tttttportal.jsp b/ttt/__custom/SER_ASES/ttttgenerico/tttttportal.jsp
deleted file mode 100644
index b2224394..00000000
--- a/ttt/__custom/SER_ASES/ttttgenerico/tttttportal.jsp
+++ /dev/null
@@ -1,546 +0,0 @@
-<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><%
-response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
-response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %><%
-__i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
-o__Log.debug("tttttportal: entry");
-o__Log.debug("  b___: " + String.valueOf(b___));
-response.setDateHeader("Expires", -1);
-String sEncoding = __RequestEncoding.getAppEncoding(); 
-response.setContentType ("text/html; charset=" + sEncoding + "");
-__S___ionCl __S___ionCl = __Context.get__S___ionCl(request);
-
-boolean bHasyyy = false;                        //controls visibility of button "Change to yyy"
-String sMenuLevel1 = null;
-String sFirstMenuOption = null;                 //null is a valid value for this variable!
-String sHomeMenuOption = null;                  //menu option used in home button
-String tttctionAux = null;                      //auxiliary sections to be excluded from menu
-String scIconPath = "/iconos/";
-if (b___) {     //___
-    //The following code is only required in ___ (check if options of yyy available to show/hide button "Change to yyy").
-    __Menu o__Menu = (__Menu)__S___ionCl.getObject("SCO_MENU");                                     //retrieve menu object
-    if (o__Menu == null) {                                                                          //object not attached to s___ion
-        o__Log.debug("  sco_menu null; create and attach to s___ion");
-        o__Menu = new __Menu(__Context.getS___ion(request));                                        //create new object
-        __S___ionCl.putObject("SCO_MENU", o__Menu);                                                 //attatch object to s___ion
-    }
-    bHasyyy = o__Menu.hasyyy();                                                                     //controls visibility of button "Change to yyy"
-    o__Log.debug("  bHasyyy: " + String.valueOf(bHasyyy));
-
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "___");
-    sMenuLevel1 = "SSCO_MENU";
-    tttctionAux = "SSCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL____");
-    __Context.getS___ion(request).setProductID("___");                      //set product id for pages that use this information to determin style sheet
-} else {        //yyy
-    __S___ionCl.putObject("SCO_ID_PRODUCT", "yyy");
-    sMenuLevel1 = "SMCO_MENU";
-    tttctionAux = "SMCO_AUX";
-    sFirstMenuOption = (String)__S___ionCl.getObject("SCO_CURRENT_URL_yyy");
-    __Context.getS___ion(request).setProductID("yyy");                      //set product id for pages that use this information to determin style sheet
-}
-o__Log.debug("  sMenuLevel1: " + sMenuLevel1);
-o__Log.debug("  tttctionAux: " + tttctionAux);
-o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-String sLastRequestUrl = (String)__S___ionCl.getObject("SCO_LAST_REQUEST_URL");
-o__Log.debug("  sLastRequestUrl: " + sLastRequestUrl);
-if (sLastRequestUrl != null && sLastRequestUrl.equals(sFirstMenuOption)) {      //if url of last request equals first option, restore request attached to s___ion
-    sFirstMenuOption = "/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp";
-    o__Log.debug("  sFirstMenuOption changed to '/servlet/CheckSecurity/JSP/ttttgenerico/tttttrestore_request.jsp'");
-}
-String sMenuSearchCriterion = (String)__S___ionCl.getObject("SCO_SEARCH_CRITERION");                //null is a valid value for this variable!
-o__Log.debug("  sMenuSearchCriterion: " + sMenuSearchCriterion);
-if (sMenuSearchCriterion == null) {sMenuSearchCriterion = "";}
-String sShowMenu = (String)__S___ionCl.getObject("tttttIND_SHOW_MENU");                             //null is a valid value for this variable!
-o__Log.debug("  sShowMenu: " + sShowMenu);
-boolean bShowMenu = (sShowMenu == null || sShowMenu.equals("true"));                                //indicates that menu is visible
-o__Log.debug("  bShowMenu: " + bShowMenu);
-boolean bUseFirstMenuOption = (sFirstMenuOption == null || sFirstMenuOption.equals(""));
-
-__S___ionCl oS___ion = __Context.get__S___ionCl(request);
-String sNmPerson = oS___ion.getBagEntries("minombre");
-o__Log.debug("  sNmPerson: " + sNmPerson);
-String sPerfilGestion = oS___ion.getBagEntries("perfilyyy");
-o__Log.debug("  sPerfilGestion: " + sPerfilGestion);
-
-//Menu
-String sSubS___ion = "tttttMENU";
-String stestObject = "MENUS";
-String sNodeApi = "MENU_RECURSIVE";
-String sDataDefNode = stestObject + "!" + sNodeApi;
-String sMethodApiLoad = sDataDefNode + ".SRTC_LOAD_MENU";
-String sMethodApiFilter = sDataDefNode + ".SRTC_FILTER_MENU";
-String sOutputDefApi = sDataDefNode + "[*]";
-
-String sMenuLevel0 = "tttttMENU";
-
-//Favourites
-String sFav__Object = "tttttFAVOURITE";
-String sFavNodeApi = "tttttFAVOURITE";
-String sFavDataDefNode = sFav__Object + "!" + sFavNodeApi;
-String sFavMethodApiLoad = sFavDataDefNode + ".SCO_LOAD";
-String sFavOutputDefApi = sFavDataDefNode + "[*]";
-
-//Filter menu options:
-// - options that belong to given tree (___ or yyy)
-// - options that are at level 1 or higher (ignore level 0 which is ___ or yyy)
-// - options that belong to hidden sections (SSCO_AUX... or SMCO_AUX...) including hidden section.
-String sFilterMenu = "If SRTC_ID_ROOT_MENU = \"" + sMenuLevel1 + "\" and SRTC_LEVEL > 0 and IndexOf(ID_MENU, \"" + tttctionAux + "\", 0) <> 0 and IndexOf(ID_PARENT_MENU, \"" + tttctionAux + "\", 0) <> 0 Then Return(1)";
-String sFilterMenuId = sDataDefNode + ".Filter";%>
-<__:page subs___ionid="<%=sSubS___ion%>">
-<__:job>
-    <__:datadef __name="<%=stestObject%>" __o="<%=stestObject%>"/>
-    <__:exec __method="<%=sMethodApiLoad%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel0%>"/>
-    </__:exec>
-    <__:exec __method="<%=sMethodApiFilter%>">
-        <__:param name="ARG_SRTC_ID_MENU" value="<%=sMenuLevel1%>"/>
-    </__:exec>
-    <__:filter __name="<%=sFilterMenuId%>" __filter="<%=sFilterMenu%>"/>
-    <__:outputdef __alias="<%=sNodeApi%>"><__:param name="__NAME0" value="<%=sOutputDefApi%>"/></__:outputdef>
-    <__:removefilter __name="<%=sFilterMenuId%>"/>
-    <__:datadef __name="<%=sFav__Object%>" __o="<%=sFav__Object%>"/>
-    <__:exec __method="<%=sFavMethodApiLoad%>"></__:exec>
-    <__:outputdef __alias="<%=sFavNodeApi%>"><__:param name="__NAME0" value="<%=sFavOutputDefApi%>"/></__:outputdef>
-</__:job><%
-int iCountOptions = 0;
-String sIterationsMenu = "0";
-int iCountFavourites = 0;
-String sIterationsFavourites = "0";
-try {
-    __Operations o__Operations = new __Operations(request);
-    iCountOptions = o__Operations.getCountInClient(sNodeApi, stestObject, sNodeApi);
-    sIterationsMenu = String.valueOf(iCountOptions - 1);
-    iCountFavourites = o__Operations.getCountInClient(sFavNodeApi, sFav__Object, sFavNodeApi);
-    sIterationsFavourites = String.valueOf(iCountFavourites - 1);
-} catch(Exception e) {
-    iCountOptions = -1;
-    o__Log.error("tttttmenu_p1", e);
-}
-o__Log.debug("  iCountOptions: " + String.valueOf(iCountOptions));
-o__Log.debug("  iCountFavourites: " + String.valueOf(iCountFavourites));
-/* Structure of menu
-[title w/o link
-<div class="title_1" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>       -> sMenuLeftTitleNoLinkL1
-] | [title with link
-<div class="title_1" onclick="test.menu.navigate('sUrl');" title="sToolTip"><img src="sIcon"/><p class="title">sTitle</p></div>   -> sMenuLeftTitleLinkL1
-]
-<div class="content_iLevel"><ul>                                                                -> sMenuLeftContentOpenLn
-[ option with submenu
-  [ option without link
-    <li class="withSubMenu"><div class="withSubMenu"><span class="noLink" title="sToolTip">sTitle</span></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenNoLinkLn
-  ]|[ option with link
-    <li class="withSubMenu"><div class="withSubMenu"><a title="sToolTip" href="sUrl">sTitle</a></div><span class="title_iLevel closed"></span>  -> sMenuLeftLiSubOpenLinkLn
-  ]
-        <div class="content_iLevel"><ul>                                                        -> sMenuLeftContentOpenLn
-            <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                 -> sMenuLeftLiNoSub
-            ... -> More options at level 3
-        </ul></div></li>                                                                        -> sMenuLeftLiSubClose
-    ... -> More options at level 2
-]|[ option without submenu
-    <li><a title="sToolTip" href="sUrl">sTitle</a></li>                                         -> sMenuLeftLiNoSub
-    ... -> More options at level 2
-]
-  Favourite: Name plus icon to delete favourite
-    <div class="content_1"><ul id="menuLeftFavouritesUL">                                       -> sMenuLeftContentOpenFavourites
-        <li id="favouritesOrdinal"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" onclick="test.menu.deleteFavourite(sOrdinal);" title="sToolTip"></span></div></li>  -> sMenuLeftLiFavourite
-  Favourite template: same as above but hidden
-<div id="favouriteItemTemplate" style="visibility: hidden; height: 0px;"><li id="favouriteLiTemplate"><div class="withSubMenu"><a title="sTitle" href="sUrl">sTitle</a><span class="delete" title="sGenericToolTip"></span></div></li></div>  -> sMenuLeftLiFavouriteTemplate
-</ul></div>                                                                                     -> sMenuLeftContentClose
-... -> More options at level 1
-*/
-String sMenuLeftTitleNoLinkL1 = "<div class=\"title_1\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftTitleLinkL1 = "<div class=\"title_1\" onclick=\"test.menu.navigate('sUrl');\" title=\"sToolTip\"><img src=\"" + scIconPath + "sIcon\"/><p class=\"title\">sTitle</p></div>";
-String sMenuLeftContentOpenLn = "<div class=\"content_iLevel\"><ul>";
-String sMenuLeftLiSubOpenNoLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><span class=\"noLink\" title=\"sToolTip\">sTitle</span><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiSubOpenLinkLn = "<li class=\"withSubMenu\"><div class=\"withSubMenu\"><a title=\"sToolTip\" href=\"sUrl\">sTitle</a><span class=\"title_iLevel closed\"></span></div>";
-String sMenuLeftLiNoSub = "<li><a title=\"sToolTip\" href=\"sUrl\">sTitle</a></li>";
-String sMenuLeftLiSubClose = "</ul></div></li>";
-String sMenuLeftLiFavourite = "<li id=\"favouritesOrdinal\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" onclick=\"test.menu.deleteFavourite(sOrdinal);\" title=\"sToolTip\"></span></div></li>";
-String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuLeftFavouritesUL\">";
-String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
-String sMenuLeftContentClose = "</ul></div>";
-%><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
-<head> 
-    <link rel="stylesheet" href="/libreria/colorbox.css" />
-    <script type="text/javascript" src="/libreria/jquery.min.js"></script>
-    <script type="text/javascript" src="/libreria/jquery.colorbox-min.js"></script> 
-<%@ include file="/ttttgenerico/generico_formats.jsp" %>
-<%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
-	<script type="text/javascript" src="/libreria/mootools.js"></script>
-	<script type="text/javascript" src="/libreria/functions_portal.js"></script><%
-if (b___) {%>
-	<%@ include file="../../ttttgenerico/estilo_ttt.jsp" %>
-	<title><%=Tran.getProperty("Title.Portal___")%></title><%
-} else {%>
-  <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css?v=<%= System.currentTimeMillis() %>"/>
-  <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-	<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>");}
-	</script>
-</head>
-<body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();"><%
-	//Begin: Portal page%>
-	<div class="scoPortalPage" id="portalPage"><%
-	//Begin: Page header%>
-	<div class="scoPageHeader" id="pageHeader"><%
-	int iLanguageID = __Context.getS___ion(request).getLanguageID();                                    //2, 3, 4.... 8
-	o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
-	String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
-	o__Log.debug("  sUrlLogin: " + sUrlLogin);%>
-    <div class="logo">
-		<div class="title"><%
-		if (b___) {%>
-           <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span><%
-		} else {%>
-           <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
-			<span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span><%
-		}%>
-        </div>
-    </div>
-    <div class="fill">
-        <div class="right">
-            <div class="buttons">
-              <%if (b___) {%>
-			  	<%if(sPerfilGestion.equals("1")==true){%>
-				<a href="/servlet/CheckSecurity/JSP/yyy_generico/yyygenerico_pgestion.jsp" target="_blank"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="Perfil de Gesti√≥n" rel="Perfil de Gesti√≥n"/></span></a>
-				
-				<%}%>
-                <% if (bHasyyy) {%>
-				<a href="javascript:" onClick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header_yyy.png" __SrcHot="/iconos/ic_header_yyy_hot.png" __SrcNormal="/iconos/ic_header_yyy.png" onMouseOver="test.header.iconHot(this);" onMouseOut="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.yyy.title")%>" rel="<%=Tran.getProperty("Button.yyy.toolTip")%>"/></span></a><%}%>
-              <%} else {%>
-                <a href="javascript:" onclick="test.header.changePortal();return false;"><span><img src="/iconos/ic_header____.png" __SrcHot="/iconos/ic_header_____hot.png" __SrcNormal="/iconos/ic_header____.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.___.title")%>" rel="<%=Tran.getProperty("Button.___.toolTip")%>"/></span></a>
-              <%}%>
-                <a href="javascript:" onclick="test.header.home();return false;"><span><img src="/iconos/ic_header_home.png" __SrcHot="/iconos/ic_header_home_hot.png" __SrcNormal="/iconos/ic_header_home.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Home.title")%>" rel="<%=Tran.getProperty("Button.Home.toolTip")%>"/></span></a>
-                <a href="javascript:" onclick="test.header.whoIsWho();return false;"><span><img src="/iconos/ic_header_who_is_who.png" __SrcHot="/iconos/ic_header_who_is_who_hot.png" __SrcNormal="/iconos/ic_header_who_is_who.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.WhoIsWho.title")%>" rel="<%=Tran.getProperty("Button.WhoIsWho.toolTip")%>"/></span></a>
-                <!--a id="headerButtonAddFavourite" href="javascript:" onclick="test.header.addFavourite();return false;"><span><img src="/iconos/ic_header_favourite.png"  __SrcHot="/iconos/ic_header_favourite_hot.png" __SrcNormal="/iconos/ic_header_favourite.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);"title="<%=Tran.getProperty("Button.AddFavorite.title")%>" rel="<%=Tran.getProperty("Button.AddFavorite.toolTip")%>"/></span></a-->
-                <a href="javascript:" onclick="test.header.logout();return false;"><span><img src="/iconos/ic_header_disconnect.png" __SrcHot="/iconos/ic_header_disconnect_hot.png" __SrcNormal="/iconos/ic_header_disconnect.png" onmouseover="test.header.iconHot(this);" onmouseout="test.header.iconNormal(this);" title="<%=Tran.getProperty("Button.Disconnect.title")%>" rel="<%=Tran.getProperty("Button.Disconnect.toolTip")%>"/></span></a>
-            </div>
-        </div>
-    </div>
-    <div class="subline">
-        <span class="menuSwitchShow<%if (bShowMenu) out.print(" hidden");%>" id="showMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.showMenu.toolTip")%>"><%=Tran.getProperty("Button.showMenu.title")%></span>
-        <span class="menuSwitchHide<%if (!bShowMenu) out.print(" hidden");%>" id="hideMenu" onclick="test.portal.toggleMenu();" title="<%=Tran.getProperty("Button.hideMenu.toolTip")%>"><%=Tran.getProperty("Button.hideMenu.title")%></span>
-        <span class="information"><%=sNmPerson%>&nbsp;-&nbsp;<%@ include file="tttttdate.jsp"%></span>
-    </div>
-    <div class="separator"></div>
-</div><%//End: Page header%>
-<div id="menuLeftWrapper" class="scoMenuLeftWrapper"<%if (!bShowMenu) out.print(" style=\"height: 0;\"");%>><div class="scoMenuLeft" id="menuLeft">
-<% //Start: Menu
-    String sLine = null;
-    String sAux = null;
-    Stack oLineClose = new Stack();               //LIFO
-    String sNmMenu, sToolTip, sUrl, sUrlAux, sLevel, sHasSubMenu, sIcon;
-    String sOrFavourite, sNmFavourite, sUrlFavourite;
-    boolean bHasSubMenu;
-    int iCurrentLevel, iPreviousLevel = 0;
-    if(iCountOptions > 0){
-        %><__:loop from="0" to="<%=sIterationsMenu%>"><__:item outputdef="<%=sNodeApi%>" item="TRANSLATED_MENU" record="<%=__lix%>" var="sNmMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_MENU" record="<%=__lix%>" var="sToolTip" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrl" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="N_HTTP" record="<%=__lix%>" var="sUrlAux"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_LEVEL" record="<%=__lix%>" var="sLevel" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="SRTC_IND_HAS_SUBMENU" record="<%=__lix%>" var="sHasSubMenu" htmlsafe="true"/><__:item outputdef="<%=sNodeApi%>" item="ICON" record="<%=__lix%>" var="sIcon" htmlsafe="true"/><%
-            //Identify first menu option with url
-            if (sFirstMenuOption == null || sFirstMenuOption.equals("")) {
-                sFirstMenuOption = sUrl;
-                o__Log.debug("  sFirstMenuOption: " + sFirstMenuOption);
-            }
-            //Identify first menu option with url to be used as Home
-            if (sHomeMenuOption == null || sHomeMenuOption.equals("")) {
-                sHomeMenuOption = sUrlAux;
-                o__Log.debug("  sHomeMenuOption: " + sHomeMenuOption);
-            }
-            //Init variables for this iteration
-            iCurrentLevel = (int)Double.parseDouble(sLevel);
-            bHasSubMenu = ((int)Double.parseDouble(sHasSubMenu) == 1);
-            //Cloase tags if required
-            if (iCurrentLevel > iPreviousLevel) {
-                //Update previous level with current level if current level is higher
-                iPreviousLevel = iCurrentLevel;
-            } else if (iCurrentLevel < iPreviousLevel) {
-                //If current level is l___ than previous level, close tags have to be added.
-                //The corresponding tags are in the stack (LIFO).
-                do {
-                    if (!oLineClose.empty()) {
-                        //Push close tag into output stack
-                        out.println(oLineClose.pop());
-                    }
-                }
-                //Decrement level and continue loop until current level reached
-                while (--iPreviousLevel > iCurrentLevel);
-            }
-            //Add option depending on level
-            if (iCurrentLevel == 1) {    
-                //First level has different syntax than following levels
-                if (sUrl != null && sUrl != "") {
-                    sLine = sMenuLeftTitleLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                } else {
-                    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sIcon", sIcon);
-                }
-                sLine = sLine.replaceAll("sToolTip", sToolTip);
-                out.println(sLine);
-                if (!bHasSubMenu) {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                    sLine = sMenuLeftContentClose;
-                    out.println(sLine);
-                }
-                else {
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftContentClose);
-                }
-            } else {
-                if (bHasSubMenu) {
-                    if (sUrl != null && sUrl != "") {
-                        sLine = sMenuLeftLiSubOpenLinkLn.replaceAll("sToolTip", sToolTip);
-                        sLine = sLine.replaceAll("sUrl", sUrl);
-                    } else {
-                        sLine = sMenuLeftLiSubOpenNoLinkLn;
-                        sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    }
-                    sLine = sLine.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    oLineClose.push(sMenuLeftLiSubClose);
-                    sLine = sMenuLeftContentOpenLn.replaceAll("iLevel", sLevel.trim());
-                    out.println(sLine);
-                    //don't push sMenuLeftContentClose on stack because it is already included in sMenuLeftLiSubClose
-                } else {
-                    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sNmMenu);
-                    sLine = sLine.replaceAll("sToolTip", sToolTip);
-                    sLine = sLine.replaceAll("sUrl", sUrl);
-                    out.println(sLine);
-                }
-            }
-        %></__:loop><%
-        //Empty stack (close tags)
-        while (!oLineClose.empty()) {
-            out.println(oLineClose.pop());
-        }
-    }
-// 20140526: se solicita ocultar men√∫ favoritos
-//    //Favourites
-//    //Title with link to Edit Favourites
-//    sAux = Tran.getProperty("favourites.title");
-//    sLine = sMenuLeftTitleNoLinkL1.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sIcon", "ic_menu_favourites.png");
-//    sAux = Tran.getProperty("favourites.toolTip");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    out.println(sLine);
-//    //First entry: Edit Favourites
-//    out.println(sMenuLeftContentOpenFavourites);
-//    sAux = Tran.getProperty("favourites.edit.title");
-//    sLine = sMenuLeftLiNoSub.replaceAll("sTitle", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//    sLine = sLine.replaceAll("sUrl", "/servlet/CheckSecurity/JSP/ttttg0/ttttg0_editar_links.jsp");
-//    out.println(sLine);
-//    if (iCountFavourites != 0) {                                                                    //loop through all favourites
-//        %><__:loop from="0" to="<%=sIterationsFavourites%>"><__:item outputdef="<%=sFavNodeApi%>" item="SCO_NM_FAVOURITE" record="<%=__lix%>" var="sNmFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_URL" record="<%=__lix%>" var="sUrlFavourite" htmlsafe="true"/><__:item outputdef="<%=sFavNodeApi%>" item="SCO_OR_FAVOURITE" record="<%=__lix%>" var="sOrFavourite" htmlsafe="true"/><%
-//            sLine = sMenuLeftLiFavourite.replaceAll("sTitle", sNmFavourite);
-//            sLine = sLine.replaceAll("sUrl", sUrlFavourite);
-//            sLine = sLine.replaceAll("sOrdinal", sOrFavourite);
-//            sAux = Tran.getProperty("favourites.delete.toolTip");
-//            sLine = sLine.replaceAll("sToolTip", sAux != null ? sAux : "");
-//            out.println(sLine);
-//        %></__:loop><%
-//    }
-//    out.println(sMenuLeftContentClose);
-    //Menus-search
-    %><div class="title_1" id="togglerMenuSearch" title="<%=Tran.getProperty("search.toolTip")%>"><img src="/iconos/ic_menu_search.png"/>
-    <form id="formMenuSearch" action="/servlet/CheckSecurity/JSP/ttttgenerico/tttttmenu_search_back.jsp" method="post">
-    <input class="search inactive" type="text" id="criterion" name="sCriterion" onclick="test.menu.search.clear();" onblur="test.menu.search.restore();" onkeyup="test.menu.search.search();"/>
-    </form>
-    </div>
-    <div class="content_1" id="searchResults">
-    <ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>
-    </div><%
-    sAux = Tran.getProperty("favourites.delete.toolTip");
-    sLine = sMenuLeftLiFavouriteTemplate.replaceAll("sGenericToolTip", sAux != null ? sAux : "");
-    out.println(sLine);                                                                             //favourite item template (to add items in run-time)
-%>
-</div></div><%//End: Menu%>
-<script type="text/javascript">isIE6();</script>
-<div id="pageContentWrapper" class="contentWrapper"<%if (!bShowMenu) out.print(" style=\"margin-left: -10px;\"");%>><%//Begin: Page content wrapper%>
-<div id="pageBody" class="scoPageBody"><%//Begin: Page body%>
-<div id="pageBodyWait" class="scoSpinner"></div>
-<iframe id="pageBodyFrame" class="content" src="<%=sFirstMenuOption%>" frameborder=0 onload="test.frameBody.afterLoad();"></iframe>
-</div><%//End: Page body%>
-<script type="text/javascript">
-    test.portal.init($('portalPage'), $('menuLeftWrapper'), $('menuLeft'), $('pageContentWrapper'), '<%=sUrlLogin%>', <%=b___%>);
-    test.frameBody.init($('pageBodyWait'), $('pageBodyFrame'));
-    test.menu.init($('pageBodyWait'), <%=bUseFirstMenuOption%>);<%//Init menu after iframe so that request of iframe can be proc___ed and menu is initialized (accordions applied) before showing it.%>
-    test.header.init('<%=sHomeMenuOption%>', $('headerButtonAddFavourite'));
-    test.menu.search.init($('formMenuSearch'), $('criterion'), $('searchResults'), "<%=com.test.taglib.util.__PresentationUtilTaglib.unCookHTML(Tran.getProperty("search.initialString"))%>", "<ul><li><%=Tran.getProperty("search.info.minLength")%></li></ul>", "<ul><li><%=Tran.getProperty("search.info.noSearch")%></li></ul>", "<%=com.test.taglib.util.__PresentationUtilTaglib.escape(sMenuSearchCriterion)%>");
-</script>
-<%--@ include file="tttttfooter.jsp"%>
-6scf <%= s___ion.getId().hassssde() + "-" + s___ion.getId() + " / "+ System.currentTimeMillis() %>
-<jsp: include page="tttttfooter.jsp" >
-    <jsp:param name="param1" value="<%= "xxx"+ System.currentTimeMillis() %>" />
-</jsp:include%--%>
-
-<script type="text/javascript">
-
-/***********************************************
-* Ajax Includes script- ¬© Dynamic Drive DHTML code library (www.dynamicdrive.com)
-* This notice MUST stay intact for legal use
-* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
-***********************************************/
-
-//To include a page, invoke ajaxinclude("afile.htm") in the BODY of page
-//Included file MUST be from the same domain as the page displaying it.
-
-var rootdomain="http://"+window.location.hostname
-
-function ajaxinclude(url) {
-page_request = false;
-if (window.XMLHttpRequest) // if Mozilla, Safari etc
-    page_request = new XMLHttpRequest()
-else if (window.ActiveXObject){ // if IE
-    try {
-        page_request = new ActiveXObject("Msxml2.XMLHTTP")
-    }catch (e){
-        try{
-            page_request = new ActiveXObject("Microsoft.XMLHTTP");
-        }catch (e){}
-    }
-}else return false;
-
-page_request.open('GET', url, false); //get page synchronously 
-page_request.send(null)
-writecontent(page_request)
-}
-
-function writecontent(page_request){
-    var vStatus = page_request.status;
-    var vText = page_request.responseText;
-    var vStatusText = page_request.statusText;
-    
-    if (window.location.href.indexOf("http")==-1 || vStatus ==200){
-        document.write(vText);
-    }else if(vStatus == 500){
-        document.write("Error 500: "+ vText + ": "+ vStatusText);
-    }else{
-        document.write("Error desconocido: "+ vStatus + " " + vStatusText);
-    }
-}
-</script>
-
-<script type="text/javascript">
-ajaxinclude("/servlet/CheckSecurity/JSP/ttttgenerico/tttttfooter.jsp?param1=<%= System.currentTimeMillis() %>");
-</script>
-</div><%//End: Page content wrapper%>
-</div><%//End: Portal page%>
-
-<script type=>
-        var idleTime = 0, MAX_IDLE_TIME = 180;
-        var ooo_openedWindows = new Array();
-        function setCookie(cname, cvalue, exdays) {
-            var d = new Date();
-            d.setTime(d.getTime() + (exdays*24*60*60*1000));
-            var expires = "expires="+d.toUTCString();
-            document.cookie = cname + "=" + cvalue + "; " + expires;
-        }
-        function getCookie(cname) {
-            var name = cname + "=";
-            var ca = document.cookie.split(';');
-            for(var i=0; i<ca.length; i++) {
-                var c = ca[i];
-                while (c.charAt(0)==' ') c = c.substring(1);
-                if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
-            }
-            return "";
-        }
-        <%
-        String sdfghjk_totem = (String)s___ion.getAttribute("sdfghjk_totem");
-        if (sdfghjk_totem == null || sdfghjk_totem.equals("")){
-            sdfghjk_totem = "0";
-        } %>
-        
-        setCookie('sdfghjk_totem','<%=sdfghjk_totem%>',365);
-        
-        function resetInactivityTimer(){
-            if(idleTime > 0){
-                 idleTime = 0;
-             }
-        }
-        
-        function addEvent(evnt, elem, func) {
-           if (elem.addEventListener)  // W3C DOM
-              elem.addEventListener(evnt,func,false);
-           else if (elem.attachEvent) { // IE DOM
-              elem.attachEvent("on"+evnt, func);
-           }
-           else { // No much to do
-              elem[evnt] = func;
-           }
-        }
-        
-        
-        
-        function timerInactivityIncrement() {
-            idleTime = idleTime + 1;
-            if (idleTime >= MAX_IDLE_TIME) { // 1 minute
-                //document.location.href='ttttlogout.jsp'
-                test.header.logout();
-            }
-        }
-        
-        var isTotem = getCookie('sdfghjk_totem');
-        //alert(isTotem);        
-        
-        if (isTotem == "1") {
-            try{
-                addEvent("mousemove"     , document, resetInactivityTimer);
-                addEvent("mousedown"     , document, resetInactivityTimer);
-                addEvent("keypr___"      , document, resetInactivityTimer);
-                addEvent("DOMMouseScroll", document, resetInactivityTimer);
-                addEvent("mousewheel"    , document, resetInactivityTimer);
-                addEvent("touchstart"    , document, resetInactivityTimer);
-                addEvent("touchmove"     , document, resetInactivityTimer);
-                addEvent("MSPointerMove" , document, resetInactivityTimer);
-                addEvent("scroll"        , document, resetInactivityTimer);
-                
-                test.header._logout = test.header.logout;
-                test.header.logout = function(){
-                    var v, n = ooo_openedWindows.length;
-                    //alert('ventanas abiertas: '+ n);
-                    for(var i = 0; i < n; i++){
-                        v = ooo_openedWindows.pop();
-                        //alert('cerrando ventana: '+ i + '; closed: '+ ((v && v.closed != null)?v.closed:'null') + '; '+ ((v && v.location)?v.location:'null'));
-                        try{
-                            if (v != null){ 
-                                v.close();
-                            }
-                        }catch(e){
-                            //alert('error al cerrar ventana. ' + (v && v.name && v.location)?v.name + v.location:'null'  + ': ' + e.m___age);
-                        }
-                    }
-                    test.header._logout();
-                }
-            }catch(e){
-                alert('Error: '+ e.m___age);
-            }
-            
-            
-        
-            addEvent("load",window, function () {
-                //Increment the idle time counter every minute.
-                var idleInterval = setInterval(timerInactivityIncrement, 1000); // 5 secs                  
-            });
-        }        
-
-                    
-    </script>
-
-</body>
-</html>
-</__:page><%o__Log.debug("tttttportal: exit");%>
-
diff --git a/ttt/__custom/sdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/sdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp
index b6621bfc..f1b62c5f 100644
--- a/ttt/__custom/sdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/sdfghjk/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -183,7 +183,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -209,7 +209,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/sdfghjk/ttttgenerico/tttttportal.jsp b/ttt/__custom/sdfghjk/ttttgenerico/tttttportal.jsp
index 8f53de87..80622fd5 100644
--- a/ttt/__custom/sdfghjk/ttttgenerico/tttttportal.jsp
+++ b/ttt/__custom/sdfghjk/ttttgenerico/tttttportal.jsp
@@ -1,11 +1,4 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
-<html xmlns="http://www.w3.org/1999/xhtml" > 
-<%@ taglib uri="__Tags" prefix="__"%>
-<%@ page import="java.io.*, java.util.*, java.net.*"%>
-<%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%>
-<%@ page import="com.test.menu.*" %>
-<%@ page import="com.test.common.utils.logsystem.__i18nCategory"%>
-<% 
+<%@ taglib uri="__Tags" prefix="__"%><%@ page import="java.io.*, java.util.*, java.net.*"%><%@ page import="com.test.__operations.*, com.test.s___ion.*, com.test.utilities.*, com.test.configuration.*"%><%@ page import="com.test.menu.*" %><%@ page import="com.test.common.utils.logsystem.__i18nCategory"%><% 
 __i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
 o__Log.debug("tttttportal: entry");
 o__Log.debug("  b___: " + String.valueOf(b___));
@@ -187,9 +180,8 @@ String sMenuLeftContentOpenFavourites = "<div class=\"content_1\"><ul id=\"menuL
 String sMenuLeftLiFavouriteTemplate = "<div id=\"favouriteItemTemplate\" style=\"visibility: hidden; height: 0px;\"><li id=\"favouriteLiTemplate\"><div class=\"withSubMenu\"><a title=\"sTitle\" href=\"sUrl\">sTitle</a><span class=\"delete\" title=\"sGenericToolTip\"></span></div></li></div>";
 String sMenuLeftContentClose = "</ul></div>";
 %>
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
-<html>
 <head>
+    <meta charset="Windows-1252" />
 <%@ include file="/ttttgenerico/generico_formats.jsp" %>
 <%@ include file="/ttttgenerico/ttttgenerico_trans.jsp"%>
 <script type="text/javascript" src="/libreria/mootools.js"></script>
@@ -200,11 +192,9 @@ String sMenuLeftContentClose = "</ul></div>";
 <%} else {%>
   <link rel="stylesheet" type="text/css" href="/css/estilo_yyy.css"/>
   <title><%=Tran.getProperty("Title.Portalyyy")%></title>
-<%}%>
-<script type="text/javascript">
-  if (test.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portalIE6.css'/>");}
-  else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_portal.css'/>");}
-</script>
+<%}
+%><link rel='stylesheet' type='text/css' href='/css/style_portal.css?v=<%= System.currentTimeMillis() %>'/>
+  <link rel='stylesheet' type='text/css' href='/css/ooo_estilo_ttt.css?v=<%= System.currentTimeMillis() %>'/>
 </head>
 <body id="allbody" onresize="test.frameBody.resize();" onclick="test.menu.interceptEvent();">
 <%//Begin: Portal page%>
@@ -216,8 +206,9 @@ o__Log.debug("  iLanguageID: " + String.valueOf(iLanguageID));
 String sUrlLogin = CheckConfig.setBadLoginLink(iLanguageID, CheckConfig.THCL);
 o__Log.debug("  sUrlLogin: " + sUrlLogin);
 %>
-    <div class="logo">
-        <div class="title">
+    <div class="fill">
+		<div class="logo">
+			<div class="title">
 <%if (b___) {%>
            <span class="maintitle"><%=Tran.getProperty("header.___.title")%></span>
            <span class="subtitle"><%=Tran.getProperty("header.___.subtitle")%></span>
@@ -225,9 +216,8 @@ o__Log.debug("  sUrlLogin: " + sUrlLogin);
            <span class="maintitle"><%=Tran.getProperty("header.yyy.title")%></span>
            <span class="subtitle"><%=Tran.getProperty("header.yyy.subtitle")%></span>
 <%}%>
-        </div>
-    </div>
-    <div class="fill">
+			</div>
+		</div>
         <div class="right">
             <div class="buttons">
               <%if (b___) {%>
@@ -419,7 +409,5 @@ s___ion.setAttribute("avisoinsc","1");
 }
 %>
 </body>
-
-</html>
 </__:page><%o__Log.debug("tttttportal: exit");%>
  
\ No newline at end of file
diff --git a/ttt/__custom/thxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/thxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/thxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/thxwkshv/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/__custom/TXXC/yyy_g4/espanol/yyy_g4_p5.jsp b/ttt/__custom/TXXC/yyy_g4/espanol/yyy_g4_p5.jsp
index 84583d39..e54db284 100644
--- a/ttt/__custom/TXXC/yyy_g4/espanol/yyy_g4_p5.jsp
+++ b/ttt/__custom/TXXC/yyy_g4/espanol/yyy_g4_p5.jsp
@@ -4,7 +4,10 @@ response.setHeader("Pragma","no-cache"); //HTTP 1.0
 response.setDateHeader ("Expires", 0); //prevents caching at the proxy server
 %>
 <%@ taglib uri="__Tags" prefix="__" %>
-<%@ page import="java.io.*, java.util.*, java.net.*" %>
+<%@ page import="java.io.*, java.util.*, java.net.*, java.text.DecimalFormat" %>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+    "DTD/xhtml1-transitional.dtd">
 <HTML>
 <HEAD>
 <TITLE>Recepci√≥n del comprobante de vacaciones</TITLE>
@@ -285,7 +288,9 @@ if (busqueda.equals("1") ) {
 	<td nowrap class="FuenteCampo" width="19%">Rut Funcionario</td>    
 	<td>&nbsp;	<input class="fuenteformulario" name="rut1" type="text" SIZE="10" maxlength="10" title="" onBlur="upper()" /> </td>
 	<td nowrap class="FuenteCampo" width="19%"></td>    
-	<td nowrap class="FuenteCampo">Fecha de inicio : <input class="fuenteformulario" type="text" name="FECHA1" id="FECHA1" title="Escribe la fecha de inicio" maxlength="10" size="10" tabindex="1" />&nbsp;<a href="javascript:__calendario(__objeto('FECHA1','paso'))" title="Escribe la fecha de inicio"tabindex="2"><img src="/iconos/icono_calendario_14_18.gif" width="14" height="18" alt="Escribe la fecha de inicio" /></a>
+	<td nowrap class="FuenteCampo">Fecha de inicio :
+	<td class="fuentecampo">
+	<input class="fuenteformulario" type="text" name="FECHA1" id="FECHA1" title="Escribe la fecha de inicio" maxlength="10" size="10" tabindex="1" />&nbsp;<a href="javascript:__calendario(__objeto('FECHA1','paso'))" title="Escribe la fecha de inicio"tabindex="2"><img src="/iconos/icono_calendario_14_18.gif" width="14" height="18" alt="Escribe la fecha de inicio" /></a>
 	</td>
 	 
 	<td width="19%">&nbsp;</td>       																					
diff --git a/ttt/__custom/TXXC/ttttg2/espanol/ttttg2_p126_ce.jsp b/ttt/__custom/TXXC/ttttg2/espanol/ttttg2_p126_ce.jsp
index dec27209..575b2030 100644
--- a/ttt/__custom/TXXC/ttttg2/espanol/ttttg2_p126_ce.jsp
+++ b/ttt/__custom/TXXC/ttttg2/espanol/ttttg2_p126_ce.jsp
@@ -4,7 +4,7 @@
     "DTD/xhtml1-transitional.dtd">
 <html>
 <head>
-<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
+<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
 <title>Licencias m&eacute;dicas</title><%@ page  import="com.test.s___ion.*, com.test.__operations.*" %>
 <link href="/css/estilo_ttt.css?c=<%= request.getS___ion().getId() %>" type="text/css" rel="stylesheet" />
 <script type="text/javascript" src="/libreria/funciones_ttt.js"></script>
@@ -91,11 +91,11 @@ function comprobar()
 <__:startpage __task="<%=zsubsesion%>"/><__:beginjob/>
 <__:datadef __o="<%=ztestobject%>" __name="<%=zsubsesion%>"/>
 <__:exec __method="<%=zmetodocarga%>">
-	<__:param name="TIPO_CARGA" value="<%=request.getParameter("TIPO_CARGA")%>"/>
-	<__:param name="CORREO" value="<%=request.getParameter("CORREO")%>"/>
-	<__:param name="TELEFONO" value="<%=request.getParameter("TELEFONO")%>"/>
-	<__:param name="CELULAR" value="<%=request.getParameter("CELULAR")%>"/>	
-	<__:param name="KEYCONF" value="<%=request.getParameter("KEYCONF")%>"/>		
+	<__:param name="TIPO_CARGA" value='<%=request.getParameter("TIPO_CARGA")%>'/>
+	<__:param name="CORREO" value='<%=request.getParameter("CORREO")%>'/>
+	<__:param name="TELEFONO" value='<%=request.getParameter("TELEFONO")%>'/>
+	<__:param name="CELULAR" value='<%=request.getParameter("CELULAR")%>'/>	
+	<__:param name="KEYCONF" value='<%=request.getParameter("KEYCONF")%>'/>		
 </__:exec>
 
 <__:outputdef __alias="<%=znodo%>"><__:param name="__name0" value="<%=zoutputdef%>"/></__:outputdef>
@@ -185,7 +185,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor">&nbsp;</td><td class="fuentevalor">&nbsp;</td>')
 			}			
@@ -211,7 +211,7 @@ function comprobar()
 				document.write ('<td class="fuentevalor2">&nbsp;<input type="checkbox" name="chkbox_confirmado" value="1" checked disabled></td>')
 			}
 			if (sConfirmado=='0' && sEstado=='1') {
-				document.write ('<form action="" name="frmconfirma"><td class="fuentevalor2"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '"</form>')
+				document.write ('<td class="fuentevalor2"><form action="" name="frmconfirma"><div align="center"><input class="fuenteformulario" type="text" id="KEY" name="KEY" size="5" maxlength="6" title="clave confirmacion" tabindex="1" ></div><input type="hidden" name="TIPO_CARGA" value="CONFIRMAR"><input type="hidden" name="KEYCONF" value="' + bdkey + '" /></form></td><TD class="fuentevalor2"><div align="center"><a title="Enviar" href="javascript:void comprobar();" tabindex="2"><img alt="Enviar"id="Enviar" src="/iconos/aceptado.gif"/></a></div></TD>')
 			}else{
 				document.write ('<td class="fuentevalor2">&nbsp;</td><td class="fuentevalor2">&nbsp;</td>')
 			}						
diff --git a/ttt/ttttgenerico/espanol/tttttfooter.jsp b/ttt/ttttgenerico/espanol/tttttfooter.jsp
index 49ad9ba2..791785b3 100644
--- a/ttt/ttttgenerico/espanol/tttttfooter.jsp
+++ b/ttt/ttttgenerico/espanol/tttttfooter.jsp
@@ -1,19 +1,17 @@
 <%
 response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
 response.setHeader("Pragma","no-cache"); //HTTP 1.0
-response.setDateHeader ("Expires", 0); //prevents caching at the proxy server %>
-<%@ taglib uri="__Tags" prefix="__"%>
-
+response.setDateHeader ("Expires", 0); //prevents caching at the proxy server 
+response.setHeader("Content-type","text/plain; charset=windows-1252");
+%><%@ taglib uri="__Tags" prefix="__"%>
 <__:page subs___ionid="Sooo_FOOTER">
     <__:job>
         <__:datadef __o="Sooo_FOOTER" __name="Sooo_FOOTER"/>
         <__:exec __method="CARGA:Sooo_FOOTER!Sooo_FOOTER.CARGA"></__:exec>
         <__:outputdef __alias="Sooo_FOOTER" ><__:param name="__name0" value="Sooo_FOOTER!Sooo_FOOTER[*]"/></__:outputdef>
     </__:job>
-
 <div class="pageFooter">
-    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/>
-    <br/>
+    <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_1" htmlsafe="false"/><br/>
     <__:item __name="Sooo_FOOTER:Sooo_FOOTER!Sooo_FOOTER.FOOTER_2" htmlsafe="false"/>
 </div>
 </__:page>
\ No newline at end of file
diff --git a/ttt/ttttgenerico/generico_login.jsp b/ttt/ttttgenerico/generico_login.jsp
index 03a45cf8..1ad2559a 100644
--- a/ttt/ttttgenerico/generico_login.jsp
+++ b/ttt/ttttgenerico/generico_login.jsp
@@ -9,10 +9,10 @@ if (sParams == null) {sParams = "";}
 response.setHeader("Pragma", "no-cache"); 
 response.setHeader("Cache-Control", "no-store"); 
 response.setDateHeader("Expires", -1); 
-response.setHeader("X-UA-Compatible", "IE=EmulateIE7");
 %><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" >
 <head>
+   <meta charset="Windows-1252" />
    <script type="text/javascript" src="/libreria/mootools.js"></script>
    <script type="text/javascript" src="/libreria/functions___ajax.js"></script>
    <script type="text/javascript" src="/libreria/functions_login.js"></script>
@@ -21,22 +21,10 @@ response.setHeader("X-UA-Compatible", "IE=EmulateIE7");
       __Login.params = '<%=sParams%>';
       if (__Login.IE6) {document.write("<link rel='stylesheet' type='text/css' href='/css/style_loginIE6.css'/>");}
       else {document.write("<link rel='stylesheet' type='text/css' href='/css/style_login.css'/>");}
-		
-		/*
-		function firstRun(){
-			if (navigator.appName != "Microsoft Internet Explorer"){
-				 var sInnerHTML="<div style='width:100%;height:100%;text-align:center;vertical-align:middle'><img src='/iconos/admiracion_grandeazul.gif' alt='Autoservicio del empleado Grupo Difarma.'/>";
-				 sInnerHTML += "<h3 align='center'>";
-				 sInnerHTML += "Navegador no soportado. Favor acceder con Internet Explorer versi√≥n 8 o superior."
-				 sInnerHTML += "</h3> <img src=/iconos/error.gif></img></div>";				 
-				 document.getElementsByTagName('body')[0].innerHTML = sInnerHTML;
-			}
-		}
-		firstRun();*/
    </script>
  <title>Autoservicio del Empleado</title>
 </head>
-<body onload="firstRun()">
+<body>
    <div class="body-content">
      <div class="loginheaderleft">
         <div id="employee" class="logintittle">
diff --git a/ttt/tctools/cpaction/ooo_ssss_gen_bag_wz_cp.jsp b/ttt/tctools/cpaction/ooo_ssss_gen_bag_wz_cp.jsp
index 207faf88..c317d3fb 100644
--- a/ttt/tctools/cpaction/ooo_ssss_gen_bag_wz_cp.jsp
+++ b/ttt/tctools/cpaction/ooo_ssss_gen_bag_wz_cp.jsp
@@ -191,7 +191,7 @@
 			 %>
 			   <tr>
 			       <td class="fuentelinkcampo" align="right" WIDTH="50%"><%=snombrecampo%></td>
-			       <td class="fuentelinkcampo" align="left" WIDTH="50%"><input id="<%=sidcampo%>" name="<%=sidcampo%>" maxlength="<%=sprecision%>" type="text" value=""></td>
+			       <td class="fuentelinkcampo" align="left" WIDTH="50%"><input id="<%=sidcampo%>" name="<%=sidcampo%>" maxlength="<%=sprecision%>" type="text" value="" placeholder="Formato: 12345678-9"></td>
 			   </tr>
 			 <%
 			}
diff --git a/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data.jsp b/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data.jsp
index a4a50682..aa6adc3c 100644
--- a/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data.jsp
+++ b/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data.jsp
@@ -1,17 +1,33 @@
 <%-- [=====================================================]   
              
-	@(#)FileVersion: 753.000.055
+	@(#)FileVersion: 815.001.006
 	@(#)FileDescription: Forgotten User/password   
 	@(#)CompanyName: test Spain, S.A.
-	@(#)LegalCopyright: (c)2011
-	@(#)ProductName: PeopleNet KSystem
-	@(#)ProductVersion: 7.1SP5
+	@(#)LegalCopyright: (c)2018
+	@(#)ProductName: PeopleNet
+	@(#)ProductVersion: 8.1SP5
 	@(#)InternalName: tc_login_wz_cp_send_data.jsp     
-	@(#)Date: 19/01/2009
+	@(#)Date: 10/05/2015
 
 [=====================================================] --%>
-<%
 
+<%@ page import="java.lang.*"%>
+<%@ page import="com.test.s___ion.*"%>
+<%@ page import="com.test.taglib.util.*"%>
+<%@ page import="com.test.__operations.*" %>
+<%@ page import="com.test.request.*"%>
+<%@ page import="com.test.common.utils.logsystem.__i18nCategory"%>
+
+<% // 1 - headers: no cache, no clickjacking 
+   response.setHeader("Pragma", "no-cache"); 
+   response.setHeader("Cache-Control", "no-store"); 
+   response.setDateHeader("Expires", -1); 
+   response.setHeader("X-Frame-Options", "SAMEORIGIN"); 
+   
+   __i18nCategory o__Log = (__i18nCategory) __i18nCategory.getInstance("com.test.jsp");
+%>
+
+<% // 2 - read information patttd 
   String tttrverURL = null;
   String sHostName = request.getServerName() ; 
   String sPortName = new Integer( request.getServerPort() ).toString() ; 
@@ -20,28 +36,69 @@
   String sProtocol = "http";
 
   if ( isHttpSecure ) sProtocol = "https" ;
-  //tttrverURL = sProtocol + "://" + sHostName + ":" + sPortName ;
-  //Pending C233093B166133
-  tttrverURL = request.getParameter("SERVER_URL_P"); 
   
+  // Avoid SSL-ofloading misconfigurations
+  tttrverURL = com.test.taglib.util.__SafeRequest.getParameter(request, "SERVER_URL_P"); 
+  
+  // Avoid security fiddling with void parameters
+  if ((tttrverURL==null)||(tttrverURL.equals(""))){tttrverURL = "http://localhost";}
 
-  String zlang = (String)s___ion.getAttribute("LANG_TO_CHANGE_PASS");
-  if ((zlang==null)||(zlang.equals(""))){zlang = "2";}
-
-  String sUrlLoginComplete = (String)s___ion.getAttribute("URL_COMPLETE");
-  String sRespValue = "-1";
-
+  // configurable values
+  String zlang = (String)s___ion.getAttribute("LANG_TO_CHANGE_PASS"); 
   String zappprod = (String)s___ion.getAttribute("LANG_TO_CHANGE_PASS_STYLE"); 
+  String sUrlLoginComplete = (String)s___ion.getAttribute("URL_COMPLETE"); 
+    
+  if (zlang == null || zlang.equals("")) zlang = "2"; 
+  if (zappprod == null || zappprod.equals("") || zappprod.equals("___")) 
+  {
+  	zappprod = __ProductByThreadUpdater.getProductIDFromRequest(request);  
+  }
+  if (zappprod == null) zappprod = "___"; 
+  
+  if (sUrlLoginComplete == null || sUrlLoginComplete.equals("")) sUrlLoginComplete =  "/";
+    
+  // The important part
+  String sRespValue = "-1";
   String sIdSocPass = (String)s___ion.getAttribute("SOC_C_PASS");
 %>
-	
+   
+<% // 3 - remember the organization for the next time
+  if (sIdSocPass != null && !sIdSocPass.equals(""))
+  {  	
+	  com.test.utilities.UtilTaglet.generatePersistentCookie("___ORGANIZATION", sIdSocPass, response);	
+  }
+%>
 
-<%@ page import="com.test.__operations.*" %>
-<%@ include file="/ssss_g0/ssss_gen_taglib.jsp" %>
+<% // 4 - read the token
+  String email = "";
+  String tks = com.test.taglib.util.__SafeRequest.getParameter(request, "tks"); 
+  if (tks != null && !tks.equals(""))
+  {  	
+	  try 
+	  {
+		LinkedHashMap<String,String> theothermap = new LinkedHashMap<String,String>();
+		theothermap = com.test.common.cipher.__CipherUtil.decryptSecretsMap(tks, sIdSocPass);
+		email = theothermap.get("email");
+	  } catch (Exception e){}
+  }
+%>
 
+
+<%@ include file="/ssss_g0/ssss_gen_taglib.jsp" %>
 <%@ include file="/ssss_g0/ssss_gen_lang.jsp" %>
 <%@ include file="/ssss_g0/ssss_login_box_trans.jsp" %>
 
+<script type="text/javascript">
+
+// Returns the cursor to the default pointer
+function cursor_clear() {
+	document.body.style.cursor = 'default';
+}
+</script>
+
+<%-- JavaScript user interface --%>
+<script type="text/javascript" language="Javascript1.5" src="/translations/tc_login_<%=zlanguser%>.js"></script>
+
 <%
   com.test.s___ion.__S___ionManager oS___ionManager = null;
   com.test.s___ion.__S___ionCl oSesion = null;
@@ -49,13 +106,12 @@
 
   // esto establece una sesi√≥n con dddd.
   oS___ionManager = com.test.s___ion.__BootstrapS___ion.establishBootstrapS___ion (zlang); 
-
-
   if (oS___ionManager == null) 
   {
 	%>
 	<script type="text/javascript">
-		alert("<%=Tran_ssss_login_box.getProperty("login.ErrorConnection")%>");
+		// alert("<%=Tran_ssss_login_box.getProperty("login.ErrorConnection")%>");
+		alert(login_ErrorConnection);		
 		document.location.href="<%=sUrlLoginComplete%>";
 	</script>
 	<%	
@@ -81,16 +137,16 @@
 		// This is not null if it is a multitenancy environment
 		if ( sIdSocPass != null ) 
 		{
-	        	oOperationsCPass.createData(sIDChannel, sIDChannel, null);
+	        	oOperationsCPass.createData(sIDChannel, sIDChannel, true, null);
 	        }
 	        else
 	        {
 	        	// BF0180637
 	        	Hashtable htParamsOfCanal = new Hashtable(); 
-			htParamsOfCanal.put("ID_ORGANIZATION_TYPE", "0"); 
-			htParamsOfCanal.put("ID_ORGANIZATION", "" ); 
+				htParamsOfCanal.put("ID_ORGANIZATION_TYPE", "0"); 
+				htParamsOfCanal.put("ID_ORGANIZATION", "" ); 
 	
-			oOperationsCPass.createData(sIDChannel, sIDChannel, htParamsOfCanal); 
+				oOperationsCPass.createData(sIDChannel, sIDChannel, true, htParamsOfCanal); 
 	        }
 
 
@@ -108,21 +164,23 @@
 		oOperationsCPass.method(sIDMethod, sIDChannel, sIDNode, sIDMethod, htArgs);
 
 		oOperationsCPass.outputDef(sIDNode, sIDChannel + "!" + sIDNode + "[*]");
-                oOperationsCPass.endJob("");
+        oOperationsCPass.endJob("");
 
-         	String reg; 
+        String reg; 
 		String sidcampo="";
 		String sCampoValue = "";
 
-            	iTotRegCount = oOperationsCPass.getCountInClient(sIDNode, sIDChannel, sIDNode);
+        iTotRegCount = oOperationsCPass.getCountInClient(sIDNode, sIDChannel, sIDNode);
+		
 		String sArrayPosValue [] = new String[iTotRegCount];
 
 		for (int i=0; i<iTotRegCount; i++) 
 		{
            		reg = new Integer(i).toString();
-            	    	sidcampo = oOperationsCPass.getItem(sIDNode, sIDChannel, sIDNode, reg, "ID_FIELD");
-			sCampoValue = request.getParameter(sidcampo);
-			sArrayPosValue[i] = sCampoValue;
+            	sidcampo = oOperationsCPass.getItem(sIDNode, sIDChannel, sIDNode, reg, "ID_FIELD");
+				
+				sCampoValue = com.test.taglib.util.__SafeRequest.getParameter(request, sidcampo);
+				sArrayPosValue[i] = sCampoValue;
 		}
 		oOperationsCPass.endTask();
 
@@ -141,12 +199,15 @@
 		oOperationsCPass.initTask(sIDChannel);	
 		oOperationsCPass.beginJob();
 		
+		oOperationsCPass.createData(sIDChannel, sIDChannel, false, null);
+		
 		Hashtable aPriorityParams = new Hashtable();
 		aPriorityParams.put("PATH___", tttrverURL);
 		aPriorityParams.put("LANG", zlang);
 		aPriorityParams.put("URL_COMPLETE", sUrlLoginComplete);
 		aPriorityParams.put("PRODUCT", zappprod);
-
+		aPriorityParams.put("EMAIL", email);
+		
 		oOperationsCPass.method(sIDMethodGen, sIDChannel, sIDNodeGen, sIDMethodGen, aPriorityParams);
 
 		oOperationsCPass.endJob("");
@@ -158,37 +219,38 @@
 
 		oOperationsCPass.endTask();
 		oOperationsCPass.logout();
-
+		
+	%>
+	<script type="text/javascript">
+		cursor_clear();
+	</script>
+	<%
+	
 		if (sRespValue.equals("2"))
 		{
-			%>
-			<script type="text/javascript">
-				alert("<%=Tran_ssss_login_box.getProperty("login.UserHHRR")%>");
-				document.location.href="<%=sUrlLoginComplete%>";
-			</script>
-			<%
+			%><script type="text/javascript">alert(login_UserHHRR);
+			document.location.href="<%=sUrlLoginComplete%>";
+			</script><%
+		}
+		else if (sRespValue.equals("1"))
+		{
+			%><script type="text/javascript">alert(login_User);
+			document.location.href="<%=sUrlLoginComplete%>";
+			</script><%
+		}
+		else if (sRespValue.equals("-2"))
+		{
+			%><script type="text/javascript">alert(login_AmbiDataM);
+			document.location.href="<%=sUrlLoginComplete%>";
+			</script><%
 		}
 		else
 		{
-		  if (sRespValue.equals("1"))
-		  {
-			%>
-			<script type="text/javascript">
-				alert("<%=Tran_ssss_login_box.getProperty("login.User")%>");
-				document.location.href="<%=sUrlLoginComplete%>";
-			</script>
-			<%
-		  }
-		  else
-		  {
-			%>
-			<script type="text/javascript">
-				alert("<%=Tran_ssss_login_box.getProperty("login.NoDataM")%>");
-				document.location.href="<%=sUrlLoginComplete%>";
-			</script>
-			<%
-		  }
+			%><script type="text/javascript">alert(login_NoDataM);
+			document.location.href="<%=sUrlLoginComplete%>";
+			</script><%
 		}
+		
 	}
   }
 %>
diff --git a/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data_val.jsp b/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data_val.jsp
index b04ec4bf..26247d01 100644
--- a/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data_val.jsp
+++ b/ttt/tctools/cpaction/ooo_tc_login_wz_cp_send_data_val.jsp
@@ -42,6 +42,9 @@
 <%@ include file="/ssss_g0/ssss_gen_lang.jsp" %>
 <%@ include file="/ssss_g0/ssss_login_box_trans.jsp" %>
 
+<%-- JavaScript user interface --%>
+<script type="text/javascript" src="/translations/tc_login_<%=zlanguser%>.js"></script>
+
 <%
   com.test.s___ion.__S___ionManager oS___ionManager = null;
   com.test.s___ion.__S___ionCl oSesion = null;
@@ -55,7 +58,8 @@
   {
 	%>
 	<script type="text/javascript">
-		alert("<%=Tran_ssss_login_box.getProperty("login.ErrorConnection")%>");
+		// alert("<%=Tran_ssss_login_box.getProperty("login.ErrorConnection")%>");
+		alert(login_ErrorConnection);		
 		document.location.href="<%=sUrlLoginComplete%>";
 	</script>
 	<%	
@@ -160,12 +164,9 @@
 		oOperationsCPass.logout();
 
 		if (sRespValue.equals("-1")){
-			%>
-			<script type="text/javascript">
-				alert("<%=Tran_ssss_login_box.getProperty("login.NoDataM")%>");
-				//document.location.href="<%=sUrlLoginComplete%>";
-			</script>
-			<%
+			%><script type="text/javascript">alert(login_NoDataM);
+			document.location.href="<%=sUrlLoginComplete%>";
+			</script><%
 		}
 		else if(sRespValue.substring(0,2).equals("OK")){
 			%>
